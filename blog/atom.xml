<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://kraken.ci/blog</id>
    <title>Kraken CI Blog</title>
    <updated>2022-09-12T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://kraken.ci/blog"/>
    <subtitle>Kraken CI Blog</subtitle>
    <icon>https://kraken.ci/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Custom Tools]]></title>
        <id>custom-tools</id>
        <link href="https://kraken.ci/blog/custom-tools"/>
        <updated>2022-09-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[There is a new way for extending Kraken CI: custom tools. A]]></summary>
        <content type="html"><![CDATA[<p>There is a new way for extending Kraken CI: custom tools. A
<a href="/docs/tools">tool</a> in Kraken CI provides particular functionality that is
used in steps in a workflow schema. Till now, there were only built-in
tools like <code>git</code> for checking out source code from Git repository, or
<code>artifacts</code> for storing or retrieving files from Kraken global
<a href="/docs/storage">storage</a> or finally <code>shell</code> for running commands in a shell.</p><p>Custom tools allow for developing such tools by third parties, sharing
them with others and installing and using them in Kraken Server.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-tools-details">Custom Tools Details<a class="hash-link" href="#custom-tools-details" title="Direct link to heading">​</a></h3><p>Docs for <a href="/docs/tools">custom tools</a> first present the whole
architecture of Kraken CI with Agents and tools. Then the interaction
between Kraken Agent and a tool is shown with an example tool. The
following sections show how to declare a custom tool and add it to
Kraken Server so it can be used in workflows. It is also presented how
to develop custom tools locally, under the desk.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="devops" term="devops"/>
        <category label="cicd" term="cicd"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello Worlds in 22 Langs on Kraken CI]]></title>
        <id>hello-worlds-in-22-langs-on-kraken-ci</id>
        <link href="https://kraken.ci/blog/hello-worlds-in-22-langs-on-kraken-ci"/>
        <updated>2022-05-13T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[There is a new, quite funny workflow example for Kraken CI. It shows]]></summary>
        <content type="html"><![CDATA[<p>There is a new, quite funny workflow example for Kraken CI. It shows
how to compile and run <code>Hello World</code> programs in various programming
languages, 22 languages.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hello-world-programs">Hello World Programs<a class="hash-link" href="#hello-world-programs" title="Direct link to heading">​</a></h3><p>Every programmer knows what does <code>Hello World</code> program looks like.</p><p>Here is an example in C language:</p><div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="font-style:italic">include</span><span class="token macro property string" style="color:rgb(195, 232, 141)">&lt;stdio.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">printf</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">"Hello World\n"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>But 22? These 22 can be seen in Kraken's repo on GitHub:
<a href="https://github.com/kraken-CI/hello-worlds" target="_blank" rel="noopener noreferrer">https://github.com/kraken-CI/hello-worlds</a></p><p>Still, there are more languages with <code>Hello Worlds</code>.
The biggest collection can be found here:
<a href="http://helloworldcollection.de/" target="_blank" rel="noopener noreferrer">http://helloworldcollection.de/</a>.</p><p>These are just examples. In our case, they can be compiled and run.
After downloading the repo you may run <code>./run.sh</code> script providing
the language folder, e.g.:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./run.sh C</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will display, compile and run a C example.</p><p>In Kraken's case, there is defined a workflow that does it for us for
each language. But first, we need to have systems with a compiler or a
runtime for these languages. Docker to the rescue.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kraken-base-language-images">Kraken Base Language Images<a class="hash-link" href="#kraken-base-language-images" title="Direct link to heading">​</a></h3><p>For each language, there is prepared a Docker image. They are based on
official images for these languages. For Kraken, they got some extras
like Kraken Agent that is running using kraken user (not root).</p><p>The list of all lang images is available in <a href="/docs/docker-executor#language-images">the docs</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-workflow">The Workflow<a class="hash-link" href="#the-workflow" title="Direct link to heading">​</a></h3><p>The mentioned workflow can be found in <a href="https://github.com/Kraken-CI/hello-worlds/blob/main/kraken-workflow.py" target="_blank" rel="noopener noreferrer">kraken-workflow.py</a> file.</p><p>In short, it looks as follows:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">stage</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    langs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">'C'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'gcc:11.3'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">'C++'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'gcc:11.3'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">'C#'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">'mono:6.12'</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># and more...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    jobs </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> lang_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> lang_image </span><span class="token keyword" style="font-style:italic">in</span><span class="token plain"> langs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        jobs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">"name"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"hello world %s"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain"> lang_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">"steps"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">"tool"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"git"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"checkout"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"https://github.com/Kraken-CI/hello-worlds.git"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"branch"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"main"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"tool"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"shell"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"cmd"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"./run.sh %s"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain"> lang_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"cwd"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"hello-worlds"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">"environments"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"executor"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"docker"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"system"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"krakenci/%s"</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">%</span><span class="token plain"> lang_image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"agents_group"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"all"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                </span><span class="token string" style="color:rgb(195, 232, 141)">"config"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"default"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">"parent"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"root"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">"triggers"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">            </span><span class="token string" style="color:rgb(195, 232, 141)">"parent"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">True</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">"parameters"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">"configs"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token string" style="color:rgb(195, 232, 141)">"jobs"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> jobs</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>As you may notice, the list of jobs is built dynamically.  For each
entry of the list of tuples (<code>lang-name</code>, <code>docker-image</code>), a job is
defined with the same steps but various values for language and Docker
image name. The lang name is passed to <code>./run.sh</code> script in <code>shell</code>
step.  And Docker image name is used in the environments section, in
the <code>system</code> field. Such a list of jobs is then returned in the whole
workflow definition. Each job will be run in parallel in separate
Docker containers.</p><p>The example of workflow execution is present in Kraken lab:
<a href="https://lab.kraken.ci/runs/5009/jobs" target="_blank" rel="noopener noreferrer">https://lab.kraken.ci/runs/5009/jobs</a>. Check the workflow definitions in
<a href="https://lab.kraken.ci/branches/33" target="_blank" rel="noopener noreferrer">branch management page</a>.</p><p>This screenshot shows the execution of this workflow:</p><a href="/img/screen-hello-worlds-execution.png" target="blank"><img src="/img/screen-hello-worlds-execution.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h3><p>This article shows how Kraken CI can build programs written in various
languages. Kraken provides prepared Docker images for many
languages. It is easy to define sophisticated workflows that
dynamically define jobs that can be run in parallel. In the end, it is
nice to observe the results of workflow execution in Kraken UI.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="devops" term="devops"/>
        <category label="cicd" term="cicd"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Job Designer and More - 0.962 Release]]></title>
        <id>job-designer-and-more-0-962</id>
        <link href="https://kraken.ci/blog/job-designer-and-more-0-962"/>
        <updated>2022-05-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The job designer]]></summary>
        <content type="html"><![CDATA[<p>The job designer
(<a href="https://github.com/Kraken-CI/kraken/issues/171" target="_blank" rel="noopener noreferrer">#171</a>) is the main
feature in
<a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.962" target="_blank" rel="noopener noreferrer">0.962</a>
release.</p><p>Besides that, it contains:</p><ul><li>support for multiline shell scripts and selecting shell executable
(<a href="https://github.com/Kraken-CI/kraken/issues/183" target="_blank" rel="noopener noreferrer">#183</a> and
<a href="https://github.com/Kraken-CI/kraken/issues/184" target="_blank" rel="noopener noreferrer">#184</a>) charts</li><li>new chart showing flows duration in a branch (<a href="https://github.com/Kraken-CI/kraken/issues/173" target="_blank" rel="noopener noreferrer">#173</a>)</li><li>multiple new base docker images for various programming languages</li><li>split results chart to pass ratio chart and passed/total chart (<a href="https://github.com/Kraken-CI/kraken/issues/183" target="_blank" rel="noopener noreferrer">#187</a>)</li></ul><p>More information about these changes is below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="job-designer">Job Designer<a class="hash-link" href="#job-designer" title="Direct link to heading">​</a></h3><p>Now it is possible to design job steps using a UI available on a
branch management page.</p><a href="/img/screen-branch-prepare-step-button.png" target="blank"><img src="/img/screen-branch-prepare-step-button.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>The <code>Prepare Step</code> button shows the job designer dialog.</p><a href="/img/screen-branch-prepare-step-dialog.png" target="blank"><img src="/img/screen-branch-prepare-step-dialog.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>The dialog shows all available fields of a step with descriptions and
input boxes pre-filled with default values. These fields are available
for a tool selected in the dropdown at the top of the dialog. Below,
there is the step generated in JSON format.</p><p>In the case of the picture above, there is a shell tool
selected. There are multiple fields available. A few are used:
<code>cmd</code>, <code>cwd</code> and <code>shell_exec</code>. The generated step in JSON contains
these fields with user-provided values.</p><p>Now a user may copy the generated step and then paste it into the stage
schema code.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shell-tool-improvements">Shell Tool Improvements<a class="hash-link" href="#shell-tool-improvements" title="Direct link to heading">​</a></h3><p>The shell tool got two improvements. One allows for entering a multiline
script instead of just one command. The other one allows for indicating
an alternative shell executable - the default one is <code>/bin/sh</code>.</p><p>A multiline script can be provided in the following way:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">"steps"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"shell"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"script"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">""</span><span class="token plain">"</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           echo 'multiline script'</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           ls -al</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           echo 'completed'</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token string" style="color:rgb(195, 232, 141)">""</span><span class="token plain">"</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Changing default shell executable to e.g. <code>zsh</code> goes this way:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">"steps"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"shell"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"cmd"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"echo $ZSH_VERSION"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"shell_exec"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"zsh"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>More in the <a href="/docs/schema#shell">docs</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-duration-on-branch-chart">Flow Duration on Branch Chart<a class="hash-link" href="#flow-duration-on-branch-chart" title="Direct link to heading">​</a></h3><p>On the branch management page, on <code>Stats and Charts</code> tab, there are
basic stats about the branch, like the total number of flows or the
average flow duration in the last week. Below these stats, a chart
shows the duration of flows over time.</p><a href="/img/screen-branch-stats.png" target="blank"><img src="/img/screen-branch-stats.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>The whole stats and charts are presented in two instances: one for CI
and the other one for DEV flows.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-base-docker-images">New Base Docker Images<a class="hash-link" href="#new-base-docker-images" title="Direct link to heading">​</a></h3><p>There are multiple new Docker images prepared to be used in Kraken CI.
The full list is available in the <a href="/docs/docker-executor#language-images">docs page</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="split-results-chart">Split Results Chart<a class="hash-link" href="#split-results-chart" title="Direct link to heading">​</a></h3><p>Initially, the pass ratio was shown together with total and passed
counts on the same chart. Now that is split into two charts: 1) pass
ratio chart and 2) total and passed counts.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
        <category label="theme" term="theme"/>
        <category label="images" term="images"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[MLOps with MLflow on Kraken CI]]></title>
        <id>mlops-with-mlflow-on-kraken-ci</id>
        <link href="https://kraken.ci/blog/mlops-with-mlflow-on-kraken-ci"/>
        <updated>2022-04-28T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Besides building, testing and deploying, Kraken CI is also a pretty]]></summary>
        <content type="html"><![CDATA[<p>Besides building, testing and deploying, Kraken CI is also a pretty
nice tool to build an <a href="https://en.wikipedia.org/wiki/MLOps" target="_blank" rel="noopener noreferrer">MLOps</a>
pipeline. In this article, it will be shown how to leverage Kraken CI to
build a CI workflow for machine learning using
<a href="https://mlflow.org/" target="_blank" rel="noopener noreferrer">MLflow</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mlops-and-mlflow">MLOps and MLflow<a class="hash-link" href="#mlops-and-mlflow" title="Direct link to heading">​</a></h3><p>MLOps is a set of practices that aims to build and maintain machine
learning models in production reliably and efficiently. One of
prominent tools in this area is <a href="https://mlflow.org/" target="_blank" rel="noopener noreferrer">MLflow</a>.</p><p>MLflow is an open-source platform for managing the end-to-end machine
learning lifecycle. It tackles four primary functions:</p><ul><li>Tracking experiments to record and compare parameters and results
(MLflow Tracking).</li><li>Packaging ML code in a reusable, reproducible form to share
with other data scientists or transfer to production (MLflow
Projects).</li><li>Managing and deploying models from various ML libraries to a
variety of model serving and inference platforms (MLflow Models).</li><li>Providing a central model store to collaboratively manage the entire
lifecycle of an MLflow Model, including model versioning, stage
transitions, and annotations (MLflow Model Registry).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mlflow-in-kraken-ci">MLflow in Kraken CI<a class="hash-link" href="#mlflow-in-kraken-ci" title="Direct link to heading">​</a></h3><p>In the following sections, I will describe how to prepare a workflow
in Kraken CI to train an ML model. This is an LSTM model that will
predict stock prices based on historical data.</p><p>The workflow will be:</p><ol><li><p>pulling live stock data and preparing it for training (<a href="https://github.com/Kraken-CI/mlflow-example/blob/master/download_raw_data.py" target="_blank" rel="noopener noreferrer">source
1</a>,
<a href="https://github.com/Kraken-CI/mlflow-example/blob/master/transform_data.py" target="_blank" rel="noopener noreferrer">source
2</a>)</p></li><li><p>performing the training (<a href="https://github.com/Kraken-CI/mlflow-example/blob/master/train_model.py" target="_blank" rel="noopener noreferrer">source 3</a>)</p></li><li><p>storing model metrics in Kraken CI for charting</p></li></ol><p>The MLflow project is described in <a href="https://github.com/Kraken-CI/mlflow-example/blob/master/MLproject" target="_blank" rel="noopener noreferrer">MLproject</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="workflow-definition">Workflow Definition<a class="hash-link" href="#workflow-definition" title="Direct link to heading">​</a></h3><p>The whole Kraken CI workload is defined <a href="https://github.com/Kraken-CI/mlflow-example/blob/master/.kraken/one.py" target="_blank" rel="noopener noreferrer">here</a>.</p><p>There are 3 steps:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">"steps"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"git"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"checkout"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"https://github.com/Kraken-CI/mlflow-example.git"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"shell"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"cmd"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"/opt/conda/bin/mlflow run ."</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"cwd"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"mlflow-example"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"timeout"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">1200</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"values_collect"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"files"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token property">"name"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"metrics.json"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token property">"namespace"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"metrics"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token property">"name"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"params.json"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">           </span><span class="token property">"namespace"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"params"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"cwd"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"mlflow-example"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol><li><p>Checkout mflow example project sources</p></li><li><p>Run the mlflow project ie. download data, prepare it, run a
training and at the end store metrics about the trained model to
metrics.json</p></li><li><p>Upload collected metrics together with hyperparameters from
params.json to Kraken server</p></li></ol><p>The last step allows for charting accuracy and RMS of the model over
builds.</p><p>There is one more element defined in the workflow: the definition of
execution environment:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token property">"environments"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"system"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"krakenci/mlflow"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"executor"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"docker"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"agents_group"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"all"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">       </span><span class="token property">"config"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"default"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">   </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here we can notice the use of a pre-prepared image with mlflow.
It is available in Docker hub:
<a href="https://hub.docker.com/r/krakenci/mlflow" target="_blank" rel="noopener noreferrer">krakenci/mlflow</a>.</p><p>The whole example of workflow is present in Kraken lab:
<a href="https://lab.kraken.ci/branches/32/ci" target="_blank" rel="noopener noreferrer">https://lab.kraken.ci/branches/32/ci</a>. Check the steps definitions in
<a href="https://lab.kraken.ci/branches/32" target="_blank" rel="noopener noreferrer">branch management page</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-and-monitoring">Execution and Monitoring<a class="hash-link" href="#execution-and-monitoring" title="Direct link to heading">​</a></h3><p>Besides the workflow definition, Kraken UI also shows collected data
and the charts drawn from this data:
<a href="https://lab.kraken.ci/test_case_results/595950" target="_blank" rel="noopener noreferrer">https://lab.kraken.ci/test_case_results/595950</a>, the charts tab.</p><p>The right chart shows value of <code>loss</code> collected over time:</p><a href="/img/screen-values-chart.png" target="blank"><img src="/img/screen-values-chart.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h3><p>This article shows how Kraken CI can be used to build an MLOps
pipeline.  The pipeline downloads raw data, prepares the data for
training and then executes the training. The trained model
metrics are collected and charted in Kraken UI at the end.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="devops" term="devops"/>
        <category label="mlops" term="mlops"/>
        <category label="mlflow" term="mlflow"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Dark Mode in 0.945 Release]]></title>
        <id>dark-mode-in-0-945</id>
        <link href="https://kraken.ci/blog/dark-mode-in-0-945"/>
        <updated>2022-04-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The dark mode is the main feature in 0.945 release.]]></summary>
        <content type="html"><![CDATA[<p>The dark mode is the main feature in <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.945" target="_blank" rel="noopener noreferrer">0.945</a> release.</p><p>Besides that, it contains:</p><ul><li>added a new tool <code>values_collect</code> that allows collecting values and then doing charts in UI based on them</li><li>added cleaning cache in MinIO</li><li>updated Go base image</li><li>added new base image for <a href="https://mlflow.org/" target="_blank" rel="noopener noreferrer">MLflow</a></li></ul><p>More information about these changes is below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dark-mode">Dark Mode<a class="hash-link" href="#dark-mode" title="Direct link to heading">​</a></h3><p>Now it is possible to look at Kraken CI web UI at night using dark mode.</p><a href="/img/screen-main-light.png" target="blank"><img src="/img/screen-main-light.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><a href="/img/screen-main-dark.png" target="blank"><img src="/img/screen-main-dark.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>If the dark mode is switched on in the browser that it will be
automatically activated in Kraken CI web UI. Otherwise, it is
possible to manually switch the dark mode on or off using the profile
drop-down button in the top left corner of the screen (see below).</p><a href="/img/screen-main-dark-mode-switch.png" target="blank"><img src="/img/screen-main-dark-mode-switch.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-tool-values_collect">New Tool values_collect<a class="hash-link" href="#new-tool-values_collect" title="Direct link to heading">​</a></h3><p>When testing is being carried out by a Kraken agent, custom measured
metrics can be returned besides test results. Now it is possible to
just generate such measurements, store them in a JSON file and then
load them to the Kraken server. Then they will be visible on a job
results page and it is possible to display a chart based on these
values.</p><p>The reported file should look like this (e.g. metrics.json):</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">"metric-1"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">432</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">"metric-2"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">2.12</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The step that consumes these values should look like this:</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">"tool"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"values_collect"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">"files"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">"name"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"metrics.json"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">"namespace"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"metrics"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">"name"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"params.json"</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token property">"namespace"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"params"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token property">"cwd"</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">"example"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The end results looks like that:</p><a href="/img/screen-values-chart.png" target="blank"><img src="/img/screen-values-chart.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>The whole example of workflow with collected results is present in
Kraken lab: <a href="https://lab.kraken.ci/branches/32/ci" target="_blank" rel="noopener noreferrer">https://lab.kraken.ci/branches/32/ci</a>. Check the steps
definitions in <a href="https://lab.kraken.ci/branches/32" target="_blank" rel="noopener noreferrer">branch management
page</a> and then check the charts on
<a href="https://lab.kraken.ci/test_case_results/595950" target="_blank" rel="noopener noreferrer">tests results page</a>,
in the charts tab.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cleaning-cache-in-minio">Cleaning Cache in MinIO<a class="hash-link" href="#cleaning-cache-in-minio" title="Direct link to heading">​</a></h3><p>The files that are always pulled to a build environmnt can be cached
between builds, so they don't have to be downloaded from the internet
each time. More about caching
<a href="http://localhost:3000/docs/schema/#cache" target="_blank" rel="noopener noreferrer">here</a>.</p><p>The Current release introduces a feature that automatically removes
old cached files. Now, after 10 days, these files are deleted from
MinIO.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="changes-in-base-images">Changes in Base Images<a class="hash-link" href="#changes-in-base-images" title="Direct link to heading">​</a></h3><p>The Go lang base image has been updated. The latest image contains Go
in 1.18.  The location of the image is:
<a href="https://hub.docker.com/r/krakenci/golang" target="_blank" rel="noopener noreferrer">krakenci/golang:1.18</a>.</p><p>There is also a new image with <a href="https://mlflow.org/" target="_blank" rel="noopener noreferrer">MLflow</a>. It is
available under:
<a href="https://hub.docker.com/r/krakenci/mlflow" target="_blank" rel="noopener noreferrer">krakenci/mlflow</a>.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
        <category label="theme" term="theme"/>
        <category label="images" term="images"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[The Last Few Releases]]></title>
        <id>last-few-releases</id>
        <link href="https://kraken.ci/blog/last-few-releases"/>
        <updated>2022-04-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The last mentioned Kraken CI release on the blog was]]></summary>
        <content type="html"><![CDATA[<p>The last mentioned Kraken CI release on the blog was
<a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.854" target="_blank" rel="noopener noreferrer">0.854</a>.
Since then there was several releases:
<a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.868" target="_blank" rel="noopener noreferrer">0.868</a>,
<a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.909" target="_blank" rel="noopener noreferrer">0.909</a> and
the last one:
<strong><a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.933" target="_blank" rel="noopener noreferrer">0.933</a></strong>.
They introduce various new features and lots of fixes.</p><p>The changes include:</p><ul><li>added a chart with results history on a flow page</li><li>added a multi-dimentional table with pass ratio stats of a flow</li><li>added masking secrets in logs</li><li>many improvements to the job's log panel like coloring and timestamps on/off</li><li>added navigation to prev and next flow in breadcrumb on the flow page</li></ul><p>More information about these changes is below.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="chart-with-pass-ratio-history">Chart with Pass Ratio History<a class="hash-link" href="#chart-with-pass-ratio-history" title="Direct link to heading">​</a></h3><p>The flow page has now two new tabs. One of them is a <code>Results Charts</code>
tab.  On this tab, a results history chart can be found.  It presents
a pass ratio line in % units and two more lines: passed and total that
shows the number of passed tests and the total number of tests over time.</p><a href="/img/screen-flow-pass-ratio-history.png" target="blank"><img src="/img/screen-flow-pass-ratio-history.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pass-ratio-stats-of-flow">Pass Ratio Stats of Flow<a class="hash-link" href="#pass-ratio-stats-of-flow" title="Direct link to heading">​</a></h3><p>On the other tab, <code>Results Stats</code>, a table shows tests passing
stats. The dimensions of the table are dynamic. They can be selected
from dropdowns available over the table. There can be chosen:
<code>Stage</code>, <code>Agents Group</code> and <code>System</code>.</p><a href="/img/screen-flow-pass-ratio-stats.png" target="blank"><img src="/img/screen-flow-pass-ratio-stats.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="secrets-masking">Secrets Masking<a class="hash-link" href="#secrets-masking" title="Direct link to heading">​</a></h3><p>Another feature is related to security. Quite often, a password or
some access key needs to be passed during build or test
execution. Sometimes this secret is revealed in logs. Now Kraken knows
secrets defined in a project and it masks them in the logs. The
secrets are caught quite early and they do not leave a machine that
traced them to logs. The log database stores only masked passwords.</p><p>There is one interesting property of this masking that cannot be found
in other CI systems: it can mask multiline secrets like SSH private
key.</p><a href="/img/screen-logs-masked-secrets.png" target="blank"><img src="/img/screen-logs-masked-secrets.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="log-panel-improvements">Log Panel Improvements<a class="hash-link" href="#log-panel-improvements" title="Direct link to heading">​</a></h3><p>There were added several improvements to the log panel:</p><ul><li>coloring ANSI color codes in HTML log box</li><li>turning timestamps on/off</li><li>showing missing timestamps</li><li>log loading indicator</li></ul><p>The screens below show colored logs and timestamps that are either
switched off or switched on.</p><a href="/img/screen-log-box-timestamps-off.png" target="blank"><img src="/img/screen-log-box-timestamps-off.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><a href="/img/screen-log-box-timestamps-on.png" target="blank"><img src="/img/screen-log-box-timestamps-on.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flow-navigation-improved">Flow Navigation Improved<a class="hash-link" href="#flow-navigation-improved" title="Direct link to heading">​</a></h3><p>The last feature presented here is flows navigation. In the breadcrumb
bar there are shown two arrows that allow for navigating to the
previous flow and to the next flow.</p><a href="/img/screen-flow-navigation.png" target="blank"><img src="/img/screen-flow-navigation.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="results" term="results"/>
        <category label="charts" term="charts"/>
        <category label="secrets" term="secrets"/>
        <category label="logs" term="logs"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Commenting Test Results]]></title>
        <id>commenting-test-results</id>
        <link href="https://kraken.ci/blog/commenting-test-results"/>
        <updated>2022-01-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[This time not about autoscaling or other cloud feature. This time we]]></summary>
        <content type="html"><![CDATA[<p>This time not about autoscaling or other cloud feature. This time we
are coming back to the core area of Kraken: testing. Today's <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.854" target="_blank" rel="noopener noreferrer">0.854
release</a>
introduces test results commenting.</p><p>More information about commenting is below.</p><p><a href="/docs/test-results-basics#comments">Test results comments</a> feature allows
for adding sticky comments to test case results. When you spot a new
failure, you may add a comment stating, e.g. the reason for the failure
or link to a bug in a bug tracker. If the failure persists in the
subsequent test runs, the added comment is still presented next to
the new result. If new facts about the failure are revealed, you may
extend the comment.</p><p>There is also a state of the comment. More information about these
details can be found in the <a href="/docs/test-results-basics#comments">docs page</a>
of the results comments feature.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="git" term="git"/>
        <category label="webhooks" term="webhooks"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Autoscaling with Kubernetes]]></title>
        <id>autoscaling-with-kubernetes</id>
        <link href="https://kraken.ci/blog/autoscaling-with-kubernetes"/>
        <updated>2021-12-30T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Previous Kraken's release introduced a new installation method into Kubernetes using Helm chart.]]></summary>
        <content type="html"><![CDATA[<p>Previous Kraken's release introduced a new installation method into Kubernetes using Helm chart.
Today's <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.813" target="_blank" rel="noopener noreferrer">0.813 release</a>
allows for autoscaling on Kubernetes.</p><p>More information about Kraken on Kubernetes is below.</p><p>Autoscaling <a href="/docs/autoscale-in-cloud">docs</a> have been
updated and now includes details about Kubernetes.</p><p>Additionally, a new <a href="/docs/guide-kubernetes">guide for Kubernetes</a> has
been prepared.  It presents, step by step, how to deploy Kraken to
Kubernetes cluster, configure autoscaling on Kubernetes and how to run
the first job there.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="git" term="git"/>
        <category label="webhooks" term="webhooks"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Installation on Kubernetes]]></title>
        <id>installation-to-kubernetes</id>
        <link href="https://kraken.ci/blog/installation-to-kubernetes"/>
        <updated>2021-12-09T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The latest release 0.788 release]]></summary>
        <content type="html"><![CDATA[<p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.788" target="_blank" rel="noopener noreferrer">0.788 release</a>
brings support for Kraken installation into Kubernetes using Helm chart.</p><p><a href="/docs/install-helm">Helm installation</a> guide shows how to do this.</p><p>Full information about current and past Helm chart releases can be
found on: <a href="https://artifacthub.io/packages/helm/kraken-ci/kraken-ci" target="_blank" rel="noopener noreferrer">https://artifacthub.io/packages/helm/kraken-ci/kraken-ci</a>.</p><p>More information about ArtiactHub is below.</p><a href="/img/artifacthub-io.png" target="blank"><img src="/img/artifacthub-io.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>There are presented install and upgrade steps. The templates of the
charts are available, so it is possible to check what and how they
will be installed in a Kubernetes cluster. There are also shown
configuration fields with default values.</p><p>Besides that, the history of releases is provided, and a list of the
referenced container images in pod deployments.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="git" term="git"/>
        <category label="webhooks" term="webhooks"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Webhooks for GitLab and Gitea]]></title>
        <id>webhooks-for-gitlab-and-gitea</id>
        <link href="https://kraken.ci/blog/webhooks-for-gitlab-and-gitea"/>
        <updated>2021-11-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The latest release 0.753 release]]></summary>
        <content type="html"><![CDATA[<p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.753" target="_blank" rel="noopener noreferrer">0.753 release</a>
brings support for webhooks for 2 new Git hosting services: <a href="https://gitlab.org" target="_blank" rel="noopener noreferrer">GitLab</a>
and <a href="https://gitea.io/" target="_blank" rel="noopener noreferrer">Gitea</a>.</p><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><p><a href="/docs/guide-webhooks">Webhooks Guide</a> shows how to use webhooks,
now in GitLab, Gitea and GitHub.</p><p>Webhooks allows for triggering a flow in a branch. The webhook may
come now from 3 Git hosting services: GitLab, Gitea and GitHub.  There
are two kinds of webhook events supported: push and pull request (in
the case of GitHub and Gitea) and merge request (in the case of
GitLab). A push even to a given branch causes a CI flow to be
started. If this is a pull request or a merge request, then a DEV flow
is started. If a workflow schema checks out sources from this
repository, a version indicated in the push or the pull/merge request is
checked out.</p><p>The <a href="/docs/guide-webhooks">Webhook Guide</a> shows how to configure
webhooks in a project, and then how to configure a Git hosting
service. In the end, checking out the repository in the workflow
schema is presented.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="git" term="git"/>
        <category label="webhooks" term="webhooks"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Autoscaling with Azure and AWS ECS]]></title>
        <id>autoscaling-with-azure-and-aws-ecs</id>
        <link href="https://kraken.ci/blog/autoscaling-with-azure-and-aws-ecs"/>
        <updated>2021-10-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The latest release 0.748 release]]></summary>
        <content type="html"><![CDATA[<p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.748" target="_blank" rel="noopener noreferrer">0.748 release</a>
brings a new public cloud in autoscaling features: Azure and AWS ECS.</p><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><p><a href="/docs/guide-autoscale">Autoscaling Guide</a> shows how to use
autoscaling with Azure VMs and AWS ECS.</p><p>Maintaining a fixed number of machines for Kraken CI can be costly. If
there is no high traffic of builds, then some machines sit idle and
waste power. The solution to this problem is autoscaling ie. spawning
machines with Kraken Agents dynamically depending on the current needs
in the Kraken CI. If there is submitted a new flow with many building
or testing jobs, then new machines are spawned. When the flow
completes, machines are terminated and no costs are incurred.</p><p>The <a href="/docs/guide-autoscale">Autoscaling Guide</a> shows how to configure
access to Azure, then how to configure parameters and behaviour of
spawned machines. In the end, the usage in job definitions is
presented.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="cloud" term="cloud"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Testing Frameworks]]></title>
        <id>testing-frameworks</id>
        <link href="https://kraken.ci/blog/testing-frameworks"/>
        <updated>2021-08-06T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[There have been added three articles in the Kraken's documentation]]></summary>
        <content type="html"><![CDATA[<p>There have been added three articles in the Kraken's documentation
about integration of testing frameworks with Kraken CI:</p><ul><li><a href="/docs/tf-junit">JUnit</a></li><li><a href="/docs/tf-pytest">Pytest</a></li><li><a href="/docs/tf-robotframework">RobotFramework</a></li></ul><p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.698" target="_blank" rel="noopener noreferrer">0.698
release</a>
brings also a new feature: collecting, storing and presenting custom
generated reports in e.g. HTML.</p><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="testing-frameworks">Testing Frameworks<a class="hash-link" href="#testing-frameworks" title="Direct link to heading">​</a></h3><p>The articles about testing frameworks shows how to use well known
frameworks like <a href="/docs/tf-junit">JUnit</a>, <a href="/docs/tf-pytest">Pytest</a> and
<a href="/docs/tf-robotframework">RobotFramework</a> inside Kraken CI. There are
presented stage workflow schemas with steps that:</p><ol><li>execute the tests using particular framework</li><li>report results to Kraken server</li><li>store generated custom reports on Kraken server</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="custom-reports">Custom Reports<a class="hash-link" href="#custom-reports" title="Direct link to heading">​</a></h3><p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.698" target="_blank" rel="noopener noreferrer">0.698
release</a>
allows now for storing and presenting custom reports in e.g. HTML format.
The are available along current generic test case results page.</p><p>More details about step for storing reports can be found in <a href="/docs/schema#artifacts">the
docs</a> and example usage on <a href="/docs/tf-robotframework">RobotFramework
example</a>.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="cloud" term="cloud"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Autoscaling with AWS]]></title>
        <id>autoscaling-with-aws</id>
        <link href="https://kraken.ci/blog/autoscaling-with-aws"/>
        <updated>2021-07-20T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The latest release 0.687 release]]></summary>
        <content type="html"><![CDATA[<p>The latest release <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.687" target="_blank" rel="noopener noreferrer">0.687 release</a>
brings a stabilization to autoscaling feature.</p><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><p><a href="/docs/guide-autoscale">Autoscaling Guide</a> shows how to use autoscaling with AWS.</p><p>Maintaining a fixed number of machines for Kraken CI can be costly. If
there is no high traffic of builds, then some machines sit idle and
waste power. The solution to this problem is autoscaling ie. spawning
machines with Kraken Agents dynamically depending on the current needs
in the Kraken CI. If there is submitted a new flow with many building
or testing jobs, then new machines are spawned. When the flow
completes, machines are terminated and no costs are incurred.</p><p>The <a href="/docs/guide-autoscale">Autoscaling Guide</a> shows how to configure
access to AWS, then how to configure parameters and behaviour of
spawned machines. In the end, the usage in job definitions is
presented.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="cloud" term="cloud"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kraken Release 0.645]]></title>
        <id>kraken-release-0-645</id>
        <link href="https://kraken.ci/blog/kraken-release-0-645"/>
        <updated>2021-07-04T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The 0.645 release contains several new features and improvements and some fixes.]]></summary>
        <content type="html"><![CDATA[<p>The <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.645" target="_blank" rel="noopener noreferrer">0.645 release</a> contains several new features and improvements and some fixes.
The most noteworthy changes are:</p><ul><li>added background steps</li><li>added support for Rocky Linux</li><li>replaced Celery with RQ for background tasks</li><li>upgraded Angular and PrimeNG to 12</li></ul><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-list-of-changes">The list of changes<a class="hash-link" href="#the-list-of-changes" title="Direct link to heading">​</a></h2><p>The complete list of changes looks as follows.</p><p>Features &amp; improvements:</p><ul><li>added more details about RQ jobs on the diagnostics page</li><li>added changing name of branch in a repo</li><li>when run is being started then stage schema is refreshed from repo</li><li>added button for checking email and AWS settings</li><li>converted timestamps columns to be with timezone in Postgresql schema</li><li>converted all char(n) columns in db to text</li><li>added doing db backup during deployment</li></ul><p>Fixes:</p><ul><li>fixed deleting dangling agents with no AWS instance</li><li>added db rollback in watchdog in case of exception</li><li>improved checking agents vm to destroy</li><li>pytest tool: added check if collecting tests failed</li><li>fixed counting available agents</li><li>added detecting jobs with no agent and spawning them</li><li>improved creating system records</li><li>improved checking args to agent</li><li>improved pulling git repo in git tool</li></ul><p>More details about background steps can be found in <a href="/docs/schema#shell">the documentation</a>.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kraken Release 0.557]]></title>
        <id>kraken-release-0-557</id>
        <link href="https://kraken.ci/blog/kraken-release-0-557"/>
        <updated>2021-05-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The 0.557 release contains several new features and improvements and some fixes.]]></summary>
        <content type="html"><![CDATA[<p>The <a href="https://github.com/Kraken-CI/kraken/releases/tag/v0.557" target="_blank" rel="noopener noreferrer">0.557 release</a> contains several new features and improvements and some fixes.
The most noteworthy changes are:</p><ul><li>improved diagnostics capabilities, i.e. browsing internal logs from Kraken services</li><li>integration with AWS EC2 - this is in beta state</li></ul><p><a href="/docs/quick-start">Quick Start</a> guide shows how to install Kraken CI.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-list-of-changes">The list of changes<a class="hash-link" href="#the-list-of-changes" title="Direct link to heading">​</a></h2><p>The complete list of changes looks as follows.</p><p>Features &amp; improvements:</p><ul><li>#105 added browsing Kraken logs in diagnostics page</li><li>added errors number indicator in the top menu bar</li><li>added integration with AWS EC2 - spawning VMs for jobs (beta/preview)</li><li>added loading status with a spinner to submit, refresh and other buttons</li><li>added interpolating variables in system and agents_group names in a workflow schema</li><li>added adding kraken user to docker group and configuring sudo in agent installer</li><li>kraken workflow: switched to AWS agents in build and static analysis jobs</li><li>added codebeat badge to readme</li></ul><p>Fixes:</p><ul><li>fixed preparing repo changes data</li><li>fixed counting agents in agents group</li><li>fixed updating schema_from_repo_enabled</li><li>fixed colors of top menu items</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="improved-diagnostics">Improved diagnostics<a class="hash-link" href="#improved-diagnostics" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="logs">Logs<a class="hash-link" href="#logs" title="Direct link to heading">​</a></h3><p>The diagnostics page accessible from the top menu bar got a
new feature: browser of Kraken services logs. The second tab on the
diagnostics page, called <code>Logs</code>, now contains filters and a
logs window.</p><a href="/img/screen-diagnostics-logs.png" target="blank"><img src="/img/screen-diagnostics-logs.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>The list of select buttons at the top allows selecting Kraken services
like server/api, celery or watchdog. Below, there is a dropbox with
log level selection, from info level to error level. When the celery
service is selected, selecting task type from the dropbox list is also
possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-indicator">Error Indicator<a class="hash-link" href="#error-indicator" title="Direct link to heading">​</a></h3><p>To make it easier to reach logs with some problems, there have been
added an error indicator in the top menu bar.</p><a href="/img/screen-error-indicator.png" target="blank"><img src="/img/screen-error-indicator.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>It is visible on all Kraken pages. If it is greater than 0, it is
displayed in reddish color to get user attention. The count indicates
the number of errors in Kraken services logs in the last hour.
When clicked, it leads to the logs page.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="preliminary-aws-ec2-integration">Preliminary AWS EC2 integration<a class="hash-link" href="#preliminary-aws-ec2-integration" title="Direct link to heading">​</a></h2><p>The second, quite exciting feature, is integration with AWS EC2. The
integration allows for autoscaling Kraken's agents. If no jobs are
waiting for execution, then there are no waitng agents on EC2
VMs. When they appear, new VMs in EC2 are spawned immediately. If the
number of jobs grows, the number of VMs can grow as well. There is
possible to set a limit for the number of VMs. VMs can be reused or
reclaimed after a given period of idle time or after an indicated
number of executed jobs.</p><p>The configuration in Kraken for AWS EC2 integration is 1) in global
settings (credentials) and 2) on the agent's group page.</p><p>More details will be presented when the feature is completed.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kraken Release 0.492]]></title>
        <id>kraken-release-0-492</id>
        <link href="https://kraken.ci/blog/kraken-release-0-492"/>
        <updated>2021-04-24T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The 0.492 release contains one feature:]]></summary>
        <content type="html"><![CDATA[<p>The 0.492 release contains one feature:</p><ul><li>status badges</li></ul><p>and two fixes:</p><ul><li>fixed collecting commits info in case there are deleted files</li><li>fixed returning tests results counts - mistake during code cleanup</li></ul><p>The status badges indicate the current quality of a branch of a project.</p><a href="/img/kraken-badges.png" target="blank"><img src="/img/kraken-badges.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>There are three types of badges. They are indicating:</p><ul><li>building state (if there are no errors)</li><li>tests results with fixes and regression counts</li><li>issues count with a count of newly discovered issues</li></ul><p>Links to the badges are available on a branch management page, in the Status Badge tab:</p><a href="/img/screen-branch-mgmt-badges.png" target="blank"><img src="/img/screen-branch-mgmt-badges.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kraken's Code Quality]]></title>
        <id>kraken-code-quality</id>
        <link href="https://kraken.ci/blog/kraken-code-quality"/>
        <updated>2021-04-22T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The last week brings to Kraken's source code many quality]]></summary>
        <content type="html"><![CDATA[<p>The last week brings to Kraken's source code many quality
improvements. Services like
<a href="https://lgtm.com/projects/g/Kraken-CI/kraken/" target="_blank" rel="noopener noreferrer">LGTM</a> and
<a href="https://app.codacy.com/gh/Kraken-CI/kraken/dashboard" target="_blank" rel="noopener noreferrer">Codacy</a> help
fixing code smells but also serious problems. So during that week in
Kraken's repository, many commits have landed that refactor the
code, fix issues and do code cleanup.</p><p>Thanks to all these changes, the project earned these quality badges:</p><a href="/img/quality-badges.png" target="blank"><img src="/img/quality-badges.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="code" term="code"/>
        <category label="quality" term="quality"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Kraken Release 0.475]]></title>
        <id>kraken-release-0-475</id>
        <link href="https://kraken.ci/blog/kraken-release-0-475"/>
        <updated>2021-04-12T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[The 0.475 release contains three main features:]]></summary>
        <content type="html"><![CDATA[<p>The 0.475 release contains three main features:</p><ul><li>presenting <strong>the status of the last flows</strong> on the Kraken main page</li><li>presenting <strong>changes in Git repository</strong> that got into a given flow</li><li>presenting <strong>step duration</strong> on Run page, on the selected job, on Steps tab</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-last-flows-status-on-the-kraken-main-page">The last flows status on the Kraken main page<a class="hash-link" href="#the-last-flows-status-on-the-kraken-main-page" title="Direct link to heading">​</a></h2><p>The Kraken main page presents a list of branches for each
project.  On the Demo project shown below, there are multiple
branches. Now under each branch, there are exposed the last completed
flow and the last in-progress flow. On the side, there is added a time
in grey how long ago the flow was completed or created.</p><a href="/img/screen-main-last-flows.png" target="blank"><img src="/img/screen-main-last-flows.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="git-repo-changes-on-a-flow-page">Git repo changes on a flow page<a class="hash-link" href="#git-repo-changes-on-a-flow-page" title="Direct link to heading">​</a></h2><p>The flow can be triggered by a push to Github PR or a Git branch. Now
the flow page presents information about these Git changes.</p><p>If a push to Github PR triggered a flow, then it is presented
in <strong>Repo Changes</strong> tab on the flow page.</p><a href="/img/screen-flow-repo-trigger.png" target="blank"><img src="/img/screen-flow-repo-trigger.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><p>If a stage has a repository defined in a trigger section, then the changes
detected since previous flow are presented on another <strong>Repo Changes</strong>
tab for the selected stage.</p><a href="/img/screen-flow-run-repo-changes.png" target="blank"><img src="/img/screen-flow-run-repo-changes.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a><h2 class="anchor anchorWithStickyNavbar_LWe7" id="step-duration-on-run-page">Step duration on Run page<a class="hash-link" href="#step-duration-on-run-page" title="Direct link to heading">​</a></h2><p>The run page show steps' status for the selected job on the Steps
tab. Now besides the current state of a step, there is included its
duration in seconds.</p><a href="/img/screen-run-step-duration.png" target="blank"><img src="/img/screen-run-step-duration.png" style="box-shadow:0 10px 10px 5px #777;margin-bottom:30px"></a>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="kraken" term="kraken"/>
        <category label="release" term="release"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Hello World!]]></title>
        <id>hello-world</id>
        <link href="https://kraken.ci/blog/hello-world"/>
        <updated>2020-07-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Welcome to Kraken CI blog. This is the first post on this blog.]]></summary>
        <content type="html"><![CDATA[<p>Welcome to Kraken CI blog. This is the first post on this blog.</p>]]></content>
        <author>
            <name>Michal Nowikowski</name>
            <uri>https://www.linkedin.com/in/godfryd</uri>
        </author>
        <category label="hello" term="hello"/>
        <category label="kraken" term="kraken"/>
    </entry>
</feed>