"use strict";(self.webpackChunkkraken_ci_website=self.webpackChunkkraken_ci_website||[]).push([[8089],{9902:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>h,contentTitle:()=>i,default:()=>o,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var s=n(4848),c=n(8453);const t={id:"docker-executor",title:"Docker Executor"},i=void 0,d={id:"docker-executor",title:"Docker Executor",description:"Beside using bare metal machine in Kraken CI jobs, it is possible to",source:"@site/docs/docker-executor.md",sourceDirName:".",slug:"/docker-executor",permalink:"/docs/docker-executor",draft:!1,unlisted:!1,editUrl:"https://github.com/kraken-ci/website/edit/master/docs/docker-executor.md",tags:[],version:"current",frontMatter:{id:"docker-executor",title:"Docker Executor"},sidebar:"someSidebar",previous:{title:"Secrets",permalink:"/docs/secrets"},next:{title:"LXD Executor",permalink:"/docs/lxd-executor"}},h={},l=[{value:"Images",id:"images",level:2},{value:"Language Images",id:"language-images",level:3},{value:"System Images",id:"system-images",level:3},{value:"Tested Vanilla Images",id:"tested-vanilla-images",level:3}];function a(e){const r={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.p,{children:"Beside using bare metal machine in Kraken CI jobs, it is possible to\nselect a Docker executor.  This can be made in the following way:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-python",children:'def stage(ctx):\n    return {\n        "parent": "root",\n        "triggers": {\n            "parent": True\n        },\n        "parameters": [],\n        "configs": [],\n        "jobs": [{\n            "name": "Docker job",\n            "steps": [{\n                "tool": "shell",\n                "cmd": "echo \'Hello World\'"\n            }],\n            "environments": [{\n                "executor": "docker",\n                "system": "krakenci/ubuntu:20.04",\n                "agents_group": "any",\n                "config": "default"\n            }]\n        }]\n    }\n'})}),"\n",(0,s.jsxs)(r.p,{children:["In the ",(0,s.jsx)(r.code,{children:"jobs"})," list, in the ",(0,s.jsx)(r.code,{children:"environments"})," section there are present:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:'"executor": "docker",'})," - this indicates that instead of bare metal\nmachine a Docker container should be used to execute a job"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:'"system": "krakenci/ubuntu:20.04",'})," - this indicated that\nparticular Docker image should be used, in this case this is\n",(0,s.jsx)(r.code,{children:"Ubuntu:20.04"})," from ",(0,s.jsx)(r.code,{children:"krakenci"})," user on Docker Hub."]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"images",children:"Images"}),"\n",(0,s.jsxs)(r.p,{children:["There are many images prepared for Kraken CI Docker executor. They\nare available on ",(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/",children:"Docker Hub"}),":"]}),"\n",(0,s.jsx)(r.h3,{id:"language-images",children:"Language Images"}),"\n",(0,s.jsx)(r.p,{children:"There are many images prepared for various programming languages."}),"\n",(0,s.jsxs)(r.p,{children:["Their usage, based on ",(0,s.jsx)(r.code,{children:"Hello World"})," examples, can be seen on Demo Lab\nof Kraken CI: ",(0,s.jsx)(r.a,{href:"https://lab.kraken.ci/branches/33/ci",children:"https://lab.kraken.ci/branches/33/ci"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Language"}),(0,s.jsx)(r.th,{children:"Docker Hub"}),(0,s.jsx)(r.th,{children:"Dockerfile"}),(0,s.jsx)(r.th,{children:"Image"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Clojure"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/clojure",children:"krakenci/clojure"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-clojure.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"clojure:1.11"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Crystal"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/crystal",children:"krakenci/crystal"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-crystal.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"crystal:1.4"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Dart"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/dart",children:"krakenci/dart"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-dart.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"dart:2.16"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Elixir"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/elixir",children:"krakenci/elixir"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-elixir.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"elixir:1.13"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Erlang"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/erlang",children:"krakenci/erlang"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-erlang.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"erlang:23.3"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"GNU C/C++"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/gcc",children:"krakenci/gcc"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-gcc.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"gcc:11.3"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Go"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/golang",children:"krakenci/golang"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-go.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"golang:1.18"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Groovy"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/groovy",children:"krakenci/groovy"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-groovy.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"groovy:3.0"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Haskell"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/haskell",children:"krakenci/haskell"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-haskell.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"haskell:9.2"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Haxe"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/haxe",children:"krakenci/haxe"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-haxe.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"haxe:4.2"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Julia"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/julia",children:"krakenci/julia"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-julia.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"julia:1.7"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"C# / Mono"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/mono",children:"krakenci/mono"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-mono.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"mono:6.12"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Javascript / Node"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/node",children:"krakenci/node"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-node.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"node:18.0"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Java / OpenJDK"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/openjdk",children:"krakenci/openjdk"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-openjdk.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"openjdk:11.0"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Perl"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/perl",children:"krakenci/perl"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-perl",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"perl:5.34"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Perl 6 / Rakudo"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/rakudo",children:"krakenci/rakudo"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-rakudo",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"rakudo:2021.04"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"PHP"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/php",children:"krakenci/php"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-php",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"php:8.0"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Python"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/python",children:"krakenci/python"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-python.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"python:3.8"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Ruby"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/ruby",children:"krakenci/ruby"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-ruby",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"ruby:3.1"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Rust"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/rust",children:"krakenci/rust"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-rust",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"rust:1.60"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Swift"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/swift",children:"krakenci/swift"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-swift",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"swift:5.6"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"system-images",children:"System Images"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"System"}),(0,s.jsx)(r.th,{children:"Tags / Versions"}),(0,s.jsx)(r.th,{children:"Dockerfile"}),(0,s.jsx)(r.th,{children:"Base Image"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Ubuntu 20.04"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/ubuntu",children:"krakenci/ubuntu:20.04"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-ubuntu.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"ubuntu:20.04"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"CentOS 8"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/centos",children:"krakenci/centos:8"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-centos.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"centos:8"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.strong,{children:"Fedora 33"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://hub.docker.com/r/krakenci/fedora",children:"krakenci/fedora:33"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/Kraken-CI/kraken/blob/master/base-images/docker-fedora.txt",children:"Dockerfile"})}),(0,s.jsx)(r.td,{children:"fedora:32"})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"tested-vanilla-images",children:"Tested Vanilla Images"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"fedora:32"}),"\n",(0,s.jsx)(r.li,{children:"fedora:33"}),"\n",(0,s.jsx)(r.li,{children:"fedora:34"}),"\n",(0,s.jsx)(r.li,{children:"fedora:35"}),"\n",(0,s.jsx)(r.li,{children:"fedora:36"}),"\n",(0,s.jsx)(r.li,{children:"fedora:37"}),"\n",(0,s.jsx)(r.li,{children:"rockylinux:8"}),"\n",(0,s.jsx)(r.li,{children:"rockylinux:9"}),"\n",(0,s.jsx)(r.li,{children:"almalinux:8"}),"\n",(0,s.jsx)(r.li,{children:"almalinux:9"}),"\n",(0,s.jsxs)(r.li,{children:["debian",":buster"]}),"\n",(0,s.jsxs)(r.li,{children:["debian",":bullseye"]}),"\n",(0,s.jsxs)(r.li,{children:["debian",":bookworm"]}),"\n",(0,s.jsx)(r.li,{children:"ubuntu:18.04"}),"\n",(0,s.jsx)(r.li,{children:"ubuntu:20.04"}),"\n",(0,s.jsx)(r.li,{children:"ubuntu:22.04"}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["For details, please, check a testing workflow results:\n",(0,s.jsx)(r.a,{href:"https://lab.kraken.ci/branches/12/ci",children:"https://lab.kraken.ci/branches/12/ci"})]})]})}function o(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>d});var s=n(6540);const c={},t=s.createContext(c);function i(e){const r=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(t.Provider,{value:r},e.children)}}}]);