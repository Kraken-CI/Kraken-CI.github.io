"use strict";(self.webpackChunkkraken_ci_website=self.webpackChunkkraken_ci_website||[]).push([[87],{4137:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=r.createContext({}),c=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},p=function(e){var t=c(e.components);return r.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=c(n),f=o,b=m["".concat(s,".").concat(f)]||m[f]||u[f]||a;return n?r.createElement(b,i(i({ref:t},p),{},{components:n})):r.createElement(b,i({ref:t},p))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=n[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8742:function(e,t,n){var r=n(7294);t.Z=function(e){var t=e.img;return r.createElement("a",{href:"/img/"+t,target:"blank"},r.createElement("img",{src:"/img/"+t,style:{boxShadow:"0 10px 10px 5px #777",marginBottom:"30px"}}))}},8080:function(e,t,n){n.r(t),n.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return f},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var r=n(3117),o=n(102),a=(n(7294),n(4137)),i=(n(8742),["components"]),l={id:"tf-robotframework",title:"RobotFramework"},s=void 0,c={unversionedId:"tf-robotframework",id:"tf-robotframework",title:"RobotFramework",description:"Intro",source:"@site/docs/tf-robotframework.mdx",sourceDirName:".",slug:"/tf-robotframework",permalink:"/docs/tf-robotframework",draft:!1,editUrl:"https://github.com/kraken-ci/website/edit/master/docs/tf-robotframework.mdx",tags:[],version:"current",frontMatter:{id:"tf-robotframework",title:"RobotFramework"},sidebar:"someSidebar",previous:{title:"Pytest",permalink:"/docs/tf-pytest"},next:{title:"Agents",permalink:"/docs/agents"}},p={},u=[{value:"Intro",id:"intro",level:2},{value:"Integration with Kraken CI",id:"integration-with-kraken-ci",level:2}],m={toc:u};function f(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h2",{id:"intro"},"Intro"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://robotframework.org/"},"Robot Framework")," is a generic open\nsource automation framework. It can be used for test automation and\nrobotic process automation (RPA)."),(0,a.kt)("p",null,"Robot Framework is actively supported, with many industry-leading\ncompanies using it in their software development. Robot Framework is\nopen and extensible and can be integrated with virtually any other\ntool to create powerful and flexible automation solutions. Being open\nsource also means that Robot Framework is free to use without\nlicensing costs."),(0,a.kt)("p",null,"Robot Framework has easy syntax, utilizing human-readable\nkeywords. Its capabilities can be extended by libraries implemented\nwith Python or Java. The framework has a rich ecosystem around it,\nconsisting of libraries and tools that are developed as separate\nprojects."),(0,a.kt)("h2",{id:"integration-with-kraken-ci"},"Integration with Kraken CI"),(0,a.kt)("p",null,"The following example shows how to execute RobotFramework tests in Kraken CI.\nThe presented workflow stage does:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"pulls RobotFramefork project,"),(0,a.kt)("li",{parentName:"ol"},"installs roboframework package using Python's pip tool,"),(0,a.kt)("li",{parentName:"ol"},"runs RobotFramework tests generating results in JUnit format"),(0,a.kt)("li",{parentName:"ol"},"collects results from JUnit file"),(0,a.kt)("li",{parentName:"ol"},"and then stores generated reports by RobotFramework")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'def stage(ctx):\n    return {\n        "parent": "root",\n        "triggers": {\n            "parent": True,\n        },\n        "parameters": [],\n        "configs": [],\n        "jobs": [{\n            "name": "robot",\n            "steps": [{\n                "tool": "git",\n                "checkout": "https://github.com/robotframework/RobotDemo.git"\n            }, {\n                "tool": "shell",\n                "cmd": "python3 -m venv venv && ./venv/bin/pip install robotframework"\n            }, {\n                "tool": "shell",\n                "cmd": "../venv/bin/robot --nostatusrc -x junit.xml *.robot",\n                "cwd": "RobotDemo"\n            }, {\n                "tool": "junit_collect",\n                "cwd": "RobotDemo",\n                "file_glob": "junit.xml"\n            }, {\n                "tool": "artifacts",\n                "cwd": "RobotDemo",\n                "source": ["log.html", "report.html"],\n                "report_entry": "report.html",\n                "public": True\n            }],\n            "environments": [{\n                "system": "krakenci/ubuntu:20.04",\n                "executor": "docker",\n                "agents_group": "all",\n                "config": "default"\n            }]\n        }]\n    }\n')),(0,a.kt)("p",null,"Let's dissect the workflow to particular steps and explain them."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'    }, {\n        "tool": "shell",\n        "cmd": "python3 -m venv venv && ./venv/bin/pip install robotframework"\n    }, {\n')),(0,a.kt)("p",null,"This step prepares Python's virtualenv folder and then install\nRobotFramework using pip to this venv."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'    }, {\n        "tool": "shell",\n        "cmd": "../venv/bin/robot --nostatusrc -x junit.xml *.robot",\n        "cwd": "RobotDemo"\n    }, {\n')),(0,a.kt)("p",null,"This one starts RobotFramework int the folder with ",(0,a.kt)("inlineCode",{parentName:"p"},".robot")," files. It\nalso says to RobotFramework to not return error exit code in case of\nfailure using ",(0,a.kt)("inlineCode",{parentName:"p"},"--nostatusrc")," switch as non-zero exit code would be\nread by Kraken as an error of tests execution. And then ",(0,a.kt)("inlineCode",{parentName:"p"},"-x junit.xml"),"\nswitch indicates to store results in JUnit format in the indicated\nfile."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'    }, {\n        "tool": "junit_collect",\n        "cwd": "RobotDemo",\n        "file_glob": "junit.xml"\n    }, {\n')),(0,a.kt)("p",null,"This step collects results stored in ",(0,a.kt)("inlineCode",{parentName:"p"},"junit.xml")," file and uploads them\nto Kraken CI server. More details about ",(0,a.kt)("inlineCode",{parentName:"p"},"junit_collect")," tool can be\nfound in ",(0,a.kt)("a",{parentName:"p",href:"schema#junit-collect"},"its docs section"),"."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-python"},'    }, {\n        "tool": "artifacts",\n        "cwd": "RobotDemo",\n        "source": ["log.html", "report.html"],\n        "report_entry": "report.html",\n        "public": True\n    }],\n')),(0,a.kt)("p",null,"And the last step takes generated HTML reports by RobotFramework and\nuploads them to Kraken CI server indicating which document is an entry\none."),(0,a.kt)("p",null,"As a result of the execution of this stage in the Kraken's web UI,\nthere will be:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"set of test case results"),(0,a.kt)("li",{parentName:"ul"},"report about RobotFramework execution")),(0,a.kt)("p",null,"Demo: ",(0,a.kt)("a",{parentName:"p",href:"https://lab.kraken.ci/branches/26"},"https://lab.kraken.ci/branches/26"),(0,a.kt)("br",null),"\nSources: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/Kraken-CI/workflow-examples/blob/main/robotframework/one.py"},"https://github.com/Kraken-CI/workflow-examples/blob/main/robotframework/one.py")))}f.isMDXComponent=!0}}]);