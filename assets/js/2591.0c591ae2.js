"use strict";(self.webpackChunkkraken_ci_website=self.webpackChunkkraken_ci_website||[]).push([[2591],{547(e,t,o){var n=o(6540),i=(o(3230),o(4848));function s(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function r(e){return"undefined"!=typeof window?(0,i.jsx)(a,Object.assign({},e,{children:e.children})):e.children}class a extends n.Component{constructor(){super(...arguments),this.scrollableAncestor=void 0,this.previousPosition=null,this.unsubscribe=void 0,this.innerRef=(0,n.createRef)(),this._handleScroll=()=>{const e=this.innerRef.current,{topOffset:t,bottomOffset:o,onEnter:n,onLeave:i}=this.props,s=function(e){let{node:t,scrollableAncestor:o,topOffset:n,bottomOffset:i}=e;const{top:s,bottom:r}=t.getBoundingClientRect();let a,l;if(o===window)a=window.innerHeight,l=0;else{const e=o;a=e.offsetHeight,l=e.getBoundingClientRect().top}return{top:s,bottom:r,viewportTop:l+n,viewportBottom:l+a-i}}({node:e,scrollableAncestor:this.scrollableAncestor,topOffset:t,bottomOffset:o}),r=function(e){if(e.viewportBottom-e.viewportTop==0)return"invisible";if(e.viewportTop<=e.top&&e.top<=e.viewportBottom)return"inside";if(e.viewportTop<=e.bottom&&e.bottom<=e.viewportBottom)return"inside";if(e.top<=e.viewportTop&&e.viewportBottom<=e.bottom)return"inside";if(e.viewportBottom<e.top)return"below";if(e.top<e.viewportTop)return"above";return"invisible"}(s),a=this.previousPosition;if(this.previousPosition=r,a===r)return;"inside"===r?n():"inside"===a&&i();("below"===a&&"above"===r||"above"===a&&"below"===r)&&(n(),i())}}componentDidMount(){this.scrollableAncestor=function(e){let t=e;for(;t.parentNode;){if(t=t.parentNode,t===document.body)return window;const e=window.getComputedStyle(t),o=e.getPropertyValue("overflow-y")||e.getPropertyValue("overflow");if("auto"===o||"scroll"===o||"overlay"===o)return t}return window}(this.innerRef.current);const e=s(this.scrollableAncestor,"scroll",this._handleScroll,{passive:!0}),t=s(window,"resize",this._handleScroll,{passive:!0}),o=function(e){let t=!0;return queueMicrotask((()=>{t&&e()})),()=>t=!1}((()=>{this._handleScroll()}));this.unsubscribe=()=>{e(),t(),o()}}componentDidUpdate(){this._handleScroll()}componentWillUnmount(){var e;null==(e=this.unsubscribe)||e.call(this)}render(){return n.cloneElement(this.props.children,{innerRef:this.innerRef})}}a.defaultProps={topOffset:0,bottomOffset:0,onEnter(){},onLeave(){}};const l=function(){const e=[];let t;for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];for(const s of n)if(s instanceof Object)Object.assign(t||(t={}),s);else if(void 0===s||!1===s);else{if("string"!=typeof s)throw new Error("Unexpected value "+s);e.push(s)}return{className:e.length>1?e.join(" "):e[0],style:t}},c="loading",d="loaded",h="error",u={load:"load",loading:c,loaded:d,error:h,noicon:"noicon",offline:"offline"},p={initial:"initial",loading:c,loaded:d,error:h},{load:w,loading:f,loaded:g,error:m,noicon:v,offline:b}=u;class S extends n.PureComponent{constructor(e){super(e),this.state={isMounted:!1}}componentDidMount(){this.setState({isMounted:!0}),this.props.onDimensions&&this.dimensionElement&&this.props.onDimensions({width:this.dimensionElement.clientWidth||this.dimensionElement.parentNode.clientWidth,height:this.dimensionElement.clientHeight||this.dimensionElement.parentNode.clientHeight})}renderIcon(e){const{icon:t,icons:o,iconColor:i,iconSize:s,theme:r}=e,a=o[t];if(!a)return null;const c=l({width:s+100,height:s,color:i},r.icon);return n.createElement("div",c,[n.createElement(a,{fill:i,size:s,key:"icon"}),n.createElement("br",{key:"br"}),this.props.message])}renderImage(e){return e.icon===g?(0,i.jsx)("img",Object.assign({},l(e.theme.img),{src:e.src,alt:e.alt,width:e.width,height:e.height})):(0,i.jsx)("svg",Object.assign({},l(e.theme.img),{width:e.width,height:e.height,ref:e=>this.dimensionElement=e}))}renderNoscript(e){return this.state.isMounted?null:(0,i.jsx)("noscript",{children:(0,i.jsx)("img",Object.assign({},l(e.theme.img,e.theme.noscript),{src:e.nsSrc,srcSet:e.nsSrcSet,alt:e.alt,width:e.width,height:e.height}))})}render(){const e=this.props,{placeholder:t,theme:o}=e;let n;return n=e.icon===g?{}:t.lqip?{backgroundImage:'url("'+t.lqip+'")'}:{backgroundColor:t.color},(0,i.jsxs)("div",Object.assign({},l(o.placeholder,n,e.style,e.className),{onClick:this.props.onClick,onKeyPress:this.props.onClick,ref:this.props.innerRef,children:[this.renderImage(e),this.renderNoscript(e),this.renderIcon(e)]}))}}S.defaultProps={iconColor:"#fff",iconSize:64};class k{constructor(){this.signal={onabort:()=>{}},this.abort=()=>this.signal.onabort()}}const y=e=>{let t=new Image;const o=new Promise(((o,n)=>{t.onload=o,t.onabort=t.onerror=()=>n({}),t.src=e}));return o.cancel=()=>{if(!t)throw new Error("Already canceled");t.onload=t.onabort=t.onerror=void 0,t.src="",t=void 0},o},E=(e,t)=>{let o=new k;const n=o.signal,i=new Promise(((o,i)=>((e,t)=>(t=t||{},new Promise(((o,n)=>{const i=new XMLHttpRequest;i.open(t.method||"get",e,!0);for(const e in t.headers)i.setRequestHeader(e,t.headers[e]);function s(){const e=[],t=[],o={};let n;return i.getAllResponseHeaders().replace(/^(.*?):\s*?([\s\S]*?)$/gm,((i,s,r)=>{e.push(s=s.toLowerCase()),t.push([s,r]),n=o[s],o[s]=n?n+","+r:r})),{ok:2==(i.status/100|0),status:i.status,statusText:i.statusText,url:i.responseURL,clone:s,text:()=>Promise.resolve(i.responseText),json:()=>Promise.resolve(i.responseText).then(JSON.parse),blob:()=>Promise.resolve(new Blob([i.response])),headers:{keys:()=>e,entries:()=>t,get:e=>o[e.toLowerCase()],has:e=>e.toLowerCase()in o}}}i.withCredentials="include"===t.credentials,i.onload=()=>{o(s())},i.onerror=n,t.signal&&(t.signal.onabort=()=>{i.onerror=i.onload=void 0,i.abort()}),i.send(t.body)}))))(e,Object.assign({},t,{signal:n})).then((t=>{t.ok?t.blob().then((()=>y(e))).then(o):i({status:t.status})}),i)));return i.cancel=()=>{if(!o)throw new Error("Already canceled");o.abort(),o=void 0},i},C="undefined"==typeof window||"ReactSnap"===window.navigator.userAgent,x=!C&&!!window.navigator.connection,L=(e,t)=>{if(C)return 0;t||(t=window);const o=e.width,{screen:n}=t,i=n.width,s=n.height,{documentElement:r}=document,a=t.innerWidth||r.clientWidth,l=t.innerHeight||r.clientHeight,c=t.devicePixelRatio||1;let d;if(i>a){const e=document.getElementsByTagName("body")[0],t=a-o;d=(e.clientHeight>l||e.clientHeight>s)&&t<=15?i-t:o/a*i}else d=o;return d*c},T=e=>{const t=["Bytes","KB","MB","GB","TB"];if(0===e)return"n/a";const o=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return 0===o?e+" "+t[o]:(e/1024**o).toFixed(1)+" "+t[o]},O=(()=>{if(C)return!1;const e=document.createElement("canvas");return!(null==e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")})(),N=e=>{var t;return"webp"===e.format||(null==(t=e.src)?void 0:t.match(/\.webp($|\?.*)/i))},j=e=>{let{srcSet:t,getUrl:o}=e;if(!C)return{};const n=t.filter((e=>!N(e))),i=n[0];return{nsSrcSet:n.map((e=>(o?o(e):e.src)+" "+e.width+"w")).join(","),nsSrc:o?o(i):i.src,ssr:C}},{initial:P,loading:M,loaded:R,error:A}=p;class B extends n.Component{constructor(e){super(e),this.onClick=()=>{const{loadState:e,onLine:t,overThreshold:o}=this.state;if(t)switch(e){case M:return void(o&&this.cancel(!0));case R:return;case P:case A:return void this.load(!0);default:throw new Error("Wrong state: "+e)}},this.load=e=>{const{loadState:t,url:o}=this.state;if(C||R===t||M===t)return;this.loadStateChange(M,e);const{threshold:n}=this.props,i="xhr"===this.props.loader?E(o):y(o);if(i.then((()=>{this.clear(),this.loadStateChange(R,!1)})).catch((e=>{this.clear(),404===e.status?this.loadStateChange(A,!1,404):this.loadStateChange(A,!1)})),n){const e=(e=>{let t;const o=new Promise((o=>{t=setTimeout(o,e)}));return o.cancel=()=>{clearTimeout(t),t=void 0},o})(n);e.then((()=>{this.loader&&(window.document.dispatchEvent(new CustomEvent("possiblySlowNetwork",{detail:{possiblySlowNetwork:!0}})),this.setState({overThreshold:!0}),this.state.userTriggered||this.cancel(!0))})),this.loader=((e,t)=>{if(!t)return e;const o=e.then((e=>e),(e=>e));return o.cancel=()=>{e.cancel(),t.cancel()},o})(i,e)}else this.loader=i},this.onEnter=()=>{if(this.state.inViewport)return;this.setState({inViewport:!0});const e=(e=>{let t,o,{srcSet:n,maxImageWidth:i,supportsWebp:s}=e;if(0===n.length)throw new Error("Need at least one item in srcSet");if(s)t=n.filter(N),0===t.length&&(t=n);else if(t=n.filter((e=>!N(e))),0===t.length)throw new Error("Need at least one supported format item in srcSet");let r=t.filter((e=>e.width>=i));return 0===r.length?(r=t,o=Math.max.apply(null,r.map((e=>e.width)))):o=Math.min.apply(null,r.map((e=>e.width))),t.filter((e=>e.width===o))[0]})({srcSet:this.props.srcSet,maxImageWidth:this.props.srcSet.length>1?L(this.state.dimensions):0,supportsWebp:O}),{getUrl:t}=this.props,o=t?t(e):e.src,n=this.props.shouldAutoDownload(Object.assign({},this.state,{size:e.size}));this.setState({pickedSrc:e,shouldAutoDownload:n,url:o},(()=>{n&&this.load(!1)}))},this.onLeave=()=>{this.state.loadState!==M||this.state.userTriggered||(this.setState({inViewport:!1}),this.cancel(!1))},this.state={loadState:P,connection:x?{downlink:navigator.connection.downlink,rtt:navigator.connection.rtt,effectiveType:navigator.connection.effectiveType}:null,onLine:!0,overThreshold:!1,inViewport:!1,userTriggered:!1,possiblySlowNetwork:!1}}componentDidMount(){x?(this.updateConnection=()=>{navigator.onLine&&this.state.loadState===P&&this.setState({connection:{effectiveType:navigator.connection.effectiveType,downlink:navigator.connection.downlink,rtt:navigator.connection.rtt}})},navigator.connection.addEventListener("onchange",this.updateConnection)):this.props.threshold&&(this.possiblySlowNetworkListener=e=>{if(this.state.loadState!==P)return;const{possiblySlowNetwork:t}=e.detail;!this.state.possiblySlowNetwork&&t&&this.setState({possiblySlowNetwork:t})},window.document.addEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener)),this.updateOnlineStatus=()=>this.setState({onLine:navigator.onLine}),this.updateOnlineStatus(),window.addEventListener("online",this.updateOnlineStatus),window.addEventListener("offline",this.updateOnlineStatus)}componentWillUnmount(){this.clear(),x?navigator.connection.removeEventListener("onchange",this.updateConnection):this.props.threshold&&window.document.removeEventListener("possiblySlowNetwork",this.possiblySlowNetworkListener),window.removeEventListener("online",this.updateOnlineStatus),window.removeEventListener("offline",this.updateOnlineStatus)}clear(){this.loader&&(this.loader.cancel(),this.loader=void 0)}cancel(e){M===this.state.loadState&&(this.clear(),this.loadStateChange(P,e))}loadStateChange(e,t,o){void 0===o&&(o=null),this.setState({loadState:e,overThreshold:!1,userTriggered:!!t,loadInfo:o})}render(){const e=this.props.getIcon(this.state),t=this.props.getMessage(e,this.state);return(0,i.jsx)(r,{onEnter:this.onEnter,onLeave:this.onLeave,children:(0,i.jsx)(S,Object.assign({},this.props,j(this.props),{onClick:this.onClick,icon:e,src:this.state.url||"",onDimensions:e=>this.setState({dimensions:e}),message:t}))})}}B.defaultProps={shouldAutoDownload:e=>{let{connection:t,size:o,threshold:n,possiblySlowNetwork:i}=e;if(i)return!1;if(!t)return!0;const{downlink:s,rtt:r,effectiveType:a}=t;switch(a){case"slow-2g":case"2g":return!1;case"3g":return!!(s&&o&&n)&&8*o/(1e3*s)+r<n;default:return!0}},getMessage:(e,t)=>{switch(e){case u.noicon:case u.loaded:return null;case u.loading:return"Loading...";case u.load:const{pickedSrc:o}=t,{size:n}=o;return n?["Click to load (",(0,i.jsx)("nobr",{children:T(n)},"nb"),")"]:"Click to load";case u.offline:return"Your browser is offline. Image not loaded";case u.error:const{loadInfo:s}=t;return 404===s?"404. Image not found":"Error. Click to reload";default:throw new Error("Wrong icon: "+e)}},getIcon:e=>{const{loadState:t,onLine:o,overThreshold:n,userTriggered:i}=e;if(C)return u.noicon;switch(t){case R:return u.loaded;case M:return n?u.loading:u.noicon;case P:if(o){const{shouldAutoDownload:t}=e;return void 0===t?u.noicon:i||!t?u.load:u.noicon}return u.offline;case A:return o?u.error:u.offline;default:throw new Error("Wrong state: "+t)}},loader:"xhr"};const{load:I,loading:W,loaded:D,error:H,noicon:_,offline:z}=u},8453(e,t,o){o.d(t,{R:()=>r,x:()=>a});var n=o(6540);const i={},s=n.createContext(i);function r(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);