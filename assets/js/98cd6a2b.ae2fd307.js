"use strict";(self.webpackChunkkraken_ci_website=self.webpackChunkkraken_ci_website||[]).push([[1501],{7717:function(e,a,t){t.r(a),t.d(a,{assets:function(){return h},contentTitle:function(){return m},default:function(){return u},frontMatter:function(){return o},metadata:function(){return c},toc:function(){return k}});var n=t(3117),l=t(102),i=(t(7294),t(4137)),s=t(8742),r=(t(5944),["components"]),o={slug:"dark-mode-in-0-945",title:"Dark Mode in 0.945 Release",authors:"mike",tags:["kraken","release","theme","images"]},m=void 0,c={permalink:"/blog/dark-mode-in-0-945",editUrl:"https://github.com/kraken-ci/website/edit/master/blog/blog/2022-04-22-dark-mode-in-0-945.mdx",source:"@site/blog/2022-04-22-dark-mode-in-0-945.mdx",title:"Dark Mode in 0.945 Release",description:"The dark mode is the main feature in 0.945 release.",date:"2022-04-22T00:00:00.000Z",formattedDate:"April 22, 2022",tags:[{label:"kraken",permalink:"/blog/tags/kraken"},{label:"release",permalink:"/blog/tags/release"},{label:"theme",permalink:"/blog/tags/theme"},{label:"images",permalink:"/blog/tags/images"}],readingTime:2.01,hasTruncateMarker:!0,authors:[{name:"Michal Nowikowski",title:"Kraken Founder. I\u2019m software engineer focused on full-stack programming and improving software processes.",url:"https://www.linkedin.com/in/godfryd",imageURL:"https://avatars1.githubusercontent.com/u/176567?s=460&u=4ade22771af9569be24b20278d24ef60da6eb0bb&v=4",key:"mike"}],frontMatter:{slug:"dark-mode-in-0-945",title:"Dark Mode in 0.945 Release",authors:"mike",tags:["kraken","release","theme","images"]},prevItem:{title:"MLOps with MLflow on Kraken CI",permalink:"/blog/mlops-with-mlflow-on-kraken-ci"},nextItem:{title:"The Last Few Releases",permalink:"/blog/last-few-releases"}},h={authorsImageUrls:[void 0]},k=[{value:"Dark Mode",id:"dark-mode",level:3},{value:"New Tool values_collect",id:"new-tool-values_collect",level:3},{value:"Cleaning Cache in MinIO",id:"cleaning-cache-in-minio",level:3},{value:"Changes in Base Images",id:"changes-in-base-images",level:3}],d={toc:k};function u(e){var a=e.components,t=(0,l.Z)(e,r);return(0,i.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"The dark mode is the main feature in ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/Kraken-CI/kraken/releases/tag/v0.945"},"0.945")," release."),(0,i.kt)("p",null,"Besides that, it contains:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"added a new tool ",(0,i.kt)("inlineCode",{parentName:"li"},"values_collect")," that allows collecting values and then doing charts in UI based on them"),(0,i.kt)("li",{parentName:"ul"},"added cleaning cache in MinIO"),(0,i.kt)("li",{parentName:"ul"},"updated Go base image"),(0,i.kt)("li",{parentName:"ul"},"added new base image for ",(0,i.kt)("a",{parentName:"li",href:"https://mlflow.org/"},"MLflow"))),(0,i.kt)("p",null,"More information about these changes is below."),(0,i.kt)("h3",{id:"dark-mode"},"Dark Mode"),(0,i.kt)("p",null,"Now it is possible to look at Kraken CI web UI at night using dark mode."),(0,i.kt)(s.Z,{img:"screen-main-light.png",mdxType:"Screen"}),(0,i.kt)(s.Z,{img:"screen-main-dark.png",mdxType:"Screen"}),(0,i.kt)("p",null,"If the dark mode is switched on in the browser that it will be\nautomatically activated in Kraken CI web UI. Otherwise, it is\npossible to manually switch the dark mode on or off using the profile\ndrop-down button in the top left corner of the screen (see below)."),(0,i.kt)(s.Z,{img:"screen-main-dark-mode-switch.png",mdxType:"Screen"}),(0,i.kt)("h3",{id:"new-tool-values_collect"},"New Tool values_collect"),(0,i.kt)("p",null,"When testing is being carried out by a Kraken agent, custom measured\nmetrics can be returned besides test results. Now it is possible to\njust generate such measurements, store them in a JSON file and then\nload them to the Kraken server. Then they will be visible on a job\nresults page and it is possible to display a chart based on these\nvalues."),(0,i.kt)("p",null,"The reported file should look like this (e.g. metrics.json):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "metric-1": 432,\n    "metric-2": 2.12,\n}\n')),(0,i.kt)("p",null,"The step that consumes these values should look like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "tool": "values_collect",\n    "files": [{\n        "name": "metrics.json",\n        "namespace": "metrics"\n    }, {\n        "name": "params.json",\n        "namespace": "params"\n    }],\n    "cwd": "example"\n}\n')),(0,i.kt)("p",null,"The end results looks like that:"),(0,i.kt)(s.Z,{img:"screen-values-chart.png",mdxType:"Screen"}),(0,i.kt)("p",null,"The whole example of workflow with collected results is present in\nKraken lab: ",(0,i.kt)("a",{parentName:"p",href:"https://lab.kraken.ci/branches/32/ci"},"https://lab.kraken.ci/branches/32/ci"),". Check the steps\ndefinitions in ",(0,i.kt)("a",{parentName:"p",href:"https://lab.kraken.ci/branches/32"},"branch management\npage")," and then check the charts on\n",(0,i.kt)("a",{parentName:"p",href:"https://lab.kraken.ci/test_case_results/595950"},"tests results page"),",\nin the charts tab."),(0,i.kt)("h3",{id:"cleaning-cache-in-minio"},"Cleaning Cache in MinIO"),(0,i.kt)("p",null,"The files that are always pulled to a build environmnt can be cached\nbetween builds, so they don't have to be downloaded from the internet\neach time. More about caching\n",(0,i.kt)("a",{parentName:"p",href:"http://localhost:3000/docs/schema/#cache"},"here"),"."),(0,i.kt)("p",null,"The Current release introduces a feature that automatically removes\nold cached files. Now, after 10 days, these files are deleted from\nMinIO."),(0,i.kt)("h3",{id:"changes-in-base-images"},"Changes in Base Images"),(0,i.kt)("p",null,"The Go lang base image has been updated. The latest image contains Go\nin 1.18.  The location of the image is:\n",(0,i.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/krakenci/golang"},"krakenci/golang:1.18"),"."),(0,i.kt)("p",null,"There is also a new image with ",(0,i.kt)("a",{parentName:"p",href:"https://mlflow.org/"},"MLflow"),". It is\navailable under:\n",(0,i.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/krakenci/mlflow"},"krakenci/mlflow"),"."))}u.isMDXComponent=!0},8742:function(e,a,t){var n=t(7294);a.Z=function(e){var a=e.img;return n.createElement("a",{href:"/img/"+a,target:"blank"},n.createElement("img",{src:"/img/"+a,style:{boxShadow:"0 10px 10px 5px #777",marginBottom:"30px"}}))}}}]);