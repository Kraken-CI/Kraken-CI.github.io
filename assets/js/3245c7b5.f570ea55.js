"use strict";(self.webpackChunkkraken_ci_website=self.webpackChunkkraken_ci_website||[]).push([[6840],{760(e){e.exports=JSON.parse('{"permalink":"/blog/windows-support-in-agent","editUrl":"https://github.com/kraken-ci/website/edit/master/blog/blog/2023-10-15-windows-support-in-agent.mdx","source":"@site/blog/2023-10-15-windows-support-in-agent.mdx","title":"Windows Support in Kraken Agent","description":"Kraken version 1.5","date":"2023-10-15T00:00:00.000Z","tags":[{"inline":true,"label":"kraken","permalink":"/blog/tags/kraken"},{"inline":true,"label":"devops","permalink":"/blog/tags/devops"},{"inline":true,"label":"cicd","permalink":"/blog/tags/cicd"},{"inline":true,"label":"windows","permalink":"/blog/tags/windows"}],"readingTime":1.91,"hasTruncateMarker":true,"authors":[{"name":"Michal Nowikowski","title":"Kraken Founder. I\u2019m software engineer focused on full-stack programming and improving software processes.","url":"https://www.linkedin.com/in/godfryd","imageURL":"https://avatars1.githubusercontent.com/u/176567?s=460&u=4ade22771af9569be24b20278d24ef60da6eb0bb&v=4","key":"mike","page":null}],"frontMatter":{"slug":"windows-support-in-agent","title":"Windows Support in Kraken Agent","authors":"mike","tags":["kraken","devops","cicd","windows"]},"unlisted":false,"prevItem":{"title":"Windows Support in AWS","permalink":"/blog/windows-support-in-aws"},"nextItem":{"title":"Environment Variables","permalink":"/blog/env-vars"}}')},4074(e,n,s){s.d(n,{A:()=>i});s(6540);var t=s(4848);const i=e=>{let{img:n}=e;return(0,t.jsx)("a",{href:"/img/"+n,target:"blank",children:(0,t.jsx)("img",{src:"/img/"+n,style:{boxShadow:"0 10px 10px 5px #777",marginBottom:"30px"}})})}},4518(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});var t=s(760),i=s(4848),o=s(8453);s(4074),s(547);const r={slug:"windows-support-in-agent",title:"Windows Support in Kraken Agent",authors:"mike",tags:["kraken","devops","cicd","windows"]},a=void 0,l={authorsImageUrls:[void 0]},d=[];function c(e){const n={a:"a",code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Kraken version ",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/releases/tag/v1.5",children:"1.5"}),"\nintroduces support for Windows in the Kraken Agent. This means that it\nis now possible to execute jobs on Windows systems using Kraken CI."]}),"\n",(0,i.jsxs)(n.p,{children:["The 1.5 release brings several more changes and fixes. To see the details,\nplease check the ",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/releases/tag/v1.5",children:"the release notes"}),".\nSome of the changes included are:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["fixed detecting Kraken Agent environment when it is run inside Docker that is using CGroup v2 - this solves ",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/issues/303",children:"#303"})]}),"\n",(0,i.jsxs)(n.li,{children:["fixed triggering a flow by GitHub webhook when another flow is in progress - this solves ",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/issues/296",children:"#296"})]}),"\n",(0,i.jsx)(n.li,{children:"fixed handling multiline secrets"}),"\n",(0,i.jsx)(n.li,{children:"improved handling agent inactivity - now it is not needed to reenable agent when it was disabled due to inactivity"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"More details about the support for Windows are provided below."}),"\n",(0,i.jsxs)(n.p,{children:["Information about the Kraken Agent installation on Windows can be\nfound in ",(0,i.jsx)(n.a,{href:"/docs/agents",children:"Agent Setup Guide"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"With enabling Kraken Agent on Windows, support for this system was also added to some Kraken tools:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/schema#shell",children:"shell tool"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/docs/schema#artifacts",children:"artifacts tool"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This means that now it is possible to execute windows shell commands."}),"\n",(0,i.jsx)(n.p,{children:"The following example shows how to define a shell or, rather, cmd\nbatch script:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'  {\n    "tool": "shell",\n    "script": """\n       rem This is a windows batch comment\n       echo \'hello world\'\n       dir c:\\\\\n    """\n  }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["or this example showing ",(0,i.jsx)(n.code,{children:"PowerShell"})," as custom shell executable:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'  {\n    "tool": "shell",\n    "shell_exe": "powershell.exe",\n    "script": """\n       Write-Host \'hello\'\n       Get-Service kkagent\n    """\n  }\n'})}),"\n",(0,i.jsx)(n.p,{children:"The Artifacts tool is now also working on Windows.\nCheck the following job steps:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:'  {\n    // create some content\n    "tool": "shell",\n    "cmd": "mkdir abc && echo \'hello world\' > abc/a.txt"\n  }, {\n    // upload the content to Kraken Storage\n    "tool": "artifacts",\n    "source": "abc"\n  },\n  ...\n  {\n    // download the uploaded content\n    "tool": "artifacts",\n    "action": "download",\n    "source": "abc"\n  }, {\n    // check the content\n    "tool": "shell",\n    "script": """\n       dir\n       type abc\\\\a.txt\n    """\n  }\n'})}),"\n",(0,i.jsxs)(n.p,{children:["That's all. To get started, simply install or upgrade to the\n",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/releases/tag/v1.5",children:"1.5 version"})," and\nexperience all the benefits firsthand. If you have any questions or\nneed assistance, submit an issue on ",(0,i.jsx)(n.a,{href:"https://github.com/Kraken-CI/kraken/issues",children:"GitHub"}),"\nor ask for help on ",(0,i.jsx)(n.a,{href:"https://discord.gg/jUvSZ4S5m3",children:"Discord"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);