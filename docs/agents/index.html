<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.70">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Kraken CI Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Kraken CI Blog Atom Feed"><title data-react-helmet="true">Agents | Kraken CI</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Agents | Kraken CI"><meta data-react-helmet="true" name="description" content="Agent is a part of Kraken system. The place of agents in Kraken is"><meta data-react-helmet="true" property="og:description" content="Agent is a part of Kraken system. The place of agents in Kraken is"><meta data-react-helmet="true" property="og:url" content="https://kraken-ci.github.io/docs/agents"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://kraken-ci.github.io/docs/agents"><link rel="stylesheet" href="/styles.5ea9b635.css">
<link rel="preload" href="/styles.d5ce0028.js" as="script">
<link rel="preload" href="/runtime~main.cbf24ae6.js" as="script">
<link rel="preload" href="/main.855adb5c.js" as="script">
<link rel="preload" href="/1.9ccf82e6.js" as="script">
<link rel="preload" href="/41.bae7e4c9.js" as="script">
<link rel="preload" href="/42.8d59ea57.js" as="script">
<link rel="preload" href="/935f2afb.3c0a4571.js" as="script">
<link rel="preload" href="/40.723ebf3c.js" as="script">
<link rel="preload" href="/320a69d1.13885f4f.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav aria-label="Skip navigation links"><button type="button" tabindex="0" class="skipToContent_11B0">Skip to main content</button></nav><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img src="/img/logo-big2.svg" alt="Kraken Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-big2.svg" alt="Kraken Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Kraken CI</strong></a><a class="navbar__item navbar__link" href="/docs/philosophy">Philosophy</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a href="http://lab.kraken.ci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Demo</a><a class="navbar__item navbar__link" href="/docs/installation">Installation</a><a href="https://groups.google.com/g/kraken-ci" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Discussion Group</a><a class="navbar__item navbar__link" href="/docs/contrib-kraken">Contributing</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/kraken-ci/kraken" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2N3Q"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_3NWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3NWk">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-big2.svg" alt="Kraken Logo" class="themedImage_YANc themedImage--light_3CMI navbar__logo"><img src="/img/logo-big2.svg" alt="Kraken Logo" class="themedImage_YANc themedImage--dark_3ARp navbar__logo"><strong class="navbar__title">Kraken CI</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/philosophy">Philosophy</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a href="http://lab.kraken.ci" target="_blank" rel="noopener noreferrer" class="menu__link">Demo</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a href="https://groups.google.com/g/kraken-ci" target="_blank" rel="noopener noreferrer" class="menu__link">Discussion Group</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contrib-kraken">Contributing</a></li><li class="menu__list-item"><a href="https://github.com/kraken-ci/kraken" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_vMrn"><div class="docSidebarContainer_3Ak5" role="complementary"><div class="sidebar_3gvy"><div class="menu menu--responsive thin-scrollbar menu_1yIk"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_1CUI" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Introduction</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/philosophy">Philosophy</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/features">Features</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/demo">Demo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/installation">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/entities">Entities &amp; Terminology</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/architecture">Architecture</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Usage</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/proj-branches">Projects and Branches</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/schema">Workflow Schema</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/schema-vars">Schema Variables</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/tools">Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/webhooks">Webhooks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/docker-executor">Docker Executor</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Administration</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/agents">Agents</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/storage">Global Storage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/guide-intro">Introductory Guide</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contributing</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contrib-kraken">Contributing to Kraken</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/dev-guide">Development Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contrib-docs">Contributing to Documentation</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/schema-ref">Workflow Schema Reference</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/server-api">Server API v1</a></li></ul></li></ul></div></div></div><main class="docMainContainer_2iGs"><div class="container padding-vert--lg docItemWrapper_1bxp"><div class="row"><div class="col docItemCol_U38p"><div class="docItemContainer_a7m4"><article><header><h1 class="docTitle_Oumm">Agents</h1></header><div class="markdown"><p>Agent is a part of Kraken system. The place of agents in Kraken is
visualized in <a href="/docs/architecture">Architecture chapter</a>.</p><p>Agent is a piece of software that is installed on separate system.
It connects to Kraken server, gets jobs to execution and executes
them. A job can be executed in several ways. It depends on selected
executor indicated in job definition. A job may be executed:</p><ul><li>locally on current host system,</li><li>inside Docker container,</li><li>inside LXD container.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="browsing-agents"></a>Browsing Agents<a class="hash-link" href="#browsing-agents" title="Direct link to heading">#</a></h2><p>In the top bar of UI, on right side, there is an <code>Agents</code> menu.
It can be used to find and manage agents.</p><p>The first position, <code>Agents</code> allows for browsing active agents that can
execute jobs. The table of agents shows their address, current system
where they are running, if they are running on bare-metal host or in
Docker container, what capabilities host system has, currently running
job, etc.</p><p>Clicking the agent address leads to agent page which shows Agent
details. Here, it is also possible to assign an agent to <code>Agents
Groups</code>. These groups are used in job definitions in workflow schema
to indicate from which group an agent should be selected to execute
indicated job.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="agents-groups"></a>Agents Groups<a class="hash-link" href="#agents-groups" title="Direct link to heading">#</a></h2><p>The next menu position, <code>Groups</code>, allows for gathering agents
into groups. Grouping can be arbitrary and manually managed by
administrator. It can be by hardware features, host system
capabilities, etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="discovered-agents"></a>Discovered Agents<a class="hash-link" href="#discovered-agents" title="Direct link to heading">#</a></h2><p>The last menu position, <code>Discovered</code>, shows list of agents that tried
to connect to the Kraken server but are not authorized to do so. Here
we can find newly setup agent and athorize it. From that moment it can
execute jobs but first it is good to assign this new agent to proper
groups.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_prK2" id="setting-up-a-new-agent"></a>Setting up a New Agent<a class="hash-link" href="#setting-up-a-new-agent" title="Direct link to heading">#</a></h2><p>Make sure that on Kraken -&gt; Settings page there is  URL to Kraken
Server set (copy and paste URL from web browser to this field).</p><p>So now a new Agent can be installed. It involves downloading an agent
installerr and running it. That&#x27;s all.</p><p>Agent Install steps:</p><ol><li>Download Kraken agent installer:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-console codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ wget http://&lt;kraken-server-address&gt;/install/kraken-agent-install.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><ol start="2"><li>Execute installer:</li></ol><div class="mdxCodeBlock_1zKU"><div class="codeBlockContent_actS"><div tabindex="0" class="prism-code language-console codeBlock_tuNs thin-scrollbar"><div class="codeBlockLines_3uvA" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ chmod a+x kraken-agent-install.sh</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ ./kraken-agent-install.sh</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_2GIj">Copy</button></div></div><p>This will download the latest agent from Kraken server and install it
as a SystemD service on the host. Agent&#x27;s files are installed into
/opt/kraken directory.</p><p>Now the new agent can be authorized in Kraken server. On Discovered
agents page there should be visible an IP address of the host with the
new agent. Select checkbox and click <code>Authorize</code> button. And then add
the agent to proper agent&#x27;s group. Now the new agent will be getting
jobs for execution.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/kraken-ci/website/edit/master/docs/agents.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2LL7"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/docker-executor"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Docker Executor</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/storage"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Global Storage Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_2xL- thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#browsing-agents" class="table-of-contents__link">Browsing Agents</a></li><li><a href="#agents-groups" class="table-of-contents__link">Agents Groups</a></li><li><a href="#discovered-agents" class="table-of-contents__link">Discovered Agents</a></li><li><a href="#setting-up-a-new-agent" class="table-of-contents__link">Setting up a New Agent</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/installation/">Installation</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://groups.google.com/g/kraken-ci" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discussion Group</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/kraken-ci" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/kraken-ci/kraken" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Michal Nowikowski. Built with Docusaurus. Icons made by <a href="https://www.flaticon.com/authors/freepik">Freepik</a> from <a href="https://www.flaticon.com">flaticon</a></div></div></div></footer></div>
<script src="/styles.d5ce0028.js"></script>
<script src="/runtime~main.cbf24ae6.js"></script>
<script src="/main.855adb5c.js"></script>
<script src="/1.9ccf82e6.js"></script>
<script src="/41.bae7e4c9.js"></script>
<script src="/42.8d59ea57.js"></script>
<script src="/935f2afb.3c0a4571.js"></script>
<script src="/40.723ebf3c.js"></script>
<script src="/320a69d1.13885f4f.js"></script>
</body>
</html>