(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{72:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return r})),t.d(n,"metadata",(function(){return b})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return p}));var i=t(2),a=t(6),o=(t(0),t(84)),r={id:"entities",title:"Entities & Terminology"},b={unversionedId:"entities",id:"entities",isDocsHomePage:!1,title:"Entities & Terminology",description:"Project",source:"@site/docs/entities.md",permalink:"/docs/entities",editUrl:"https://github.com/kraken-ci/website/edit/master/docs/entities.md",sidebar:"someSidebar",previous:{title:"Installation",permalink:"/docs/installation"},next:{title:"Architecture",permalink:"/docs/architecture"}},c=[{value:"Project",id:"project",children:[]},{value:"Branch",id:"branch",children:[]},{value:"Stage",id:"stage",children:[]},{value:"Job in Stage",id:"job-in-stage",children:[]},{value:"Step in Stage",id:"step-in-stage",children:[]},{value:"Flow",id:"flow",children:[]},{value:"Run",id:"run",children:[]},{value:"Job in Run",id:"job-in-run",children:[]},{value:"Step in Run",id:"step-in-run",children:[]}],l={rightToc:c};function p(e){var n=e.components,t=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(i.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("h3",{id:"project"},"Project"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Project")," separates things from other ",Object(o.b)("inlineCode",{parentName:"p"},"projects"),", it contains multiple ",Object(o.b)("inlineCode",{parentName:"p"},"branches"),"."),Object(o.b)("h3",{id:"branch"},"Branch"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Branch")," can map to source code repository branch. In a ",Object(o.b)("inlineCode",{parentName:"p"},"branch")," there are defined ",Object(o.b)("inlineCode",{parentName:"p"},"stages"),".\nEach ",Object(o.b)("inlineCode",{parentName:"p"},"stage")," has its own workflow schema. An execution of stages form a flow. ",Object(o.b)("inlineCode",{parentName:"p"},"Branch")," contains two kinds of ",Object(o.b)("inlineCode",{parentName:"p"},"flows")," lists:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"CI flows")," - they are triggered by e.g. commits to production source repository branch eg. to master"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"dev flows")," - they are triggered by e.g. commits to developer branches")),Object(o.b)("h3",{id:"stage"},"Stage"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Stage")," defines workflow schema for a ",Object(o.b)("inlineCode",{parentName:"p"},"branch"),". There can be several ",Object(o.b)("inlineCode",{parentName:"p"},"stages")," in a ",Object(o.b)("inlineCode",{parentName:"p"},"branch"),". ",Object(o.b)("inlineCode",{parentName:"p"},"Stage"),"'s workflow schema defines set of ",Object(o.b)("inlineCode",{parentName:"p"},"jobs"),"\nthat are executed in parallel. There can be defined many ",Object(o.b)("inlineCode",{parentName:"p"},"jobs")," in a ",Object(o.b)("inlineCode",{parentName:"p"},"stage"),". ",Object(o.b)("inlineCode",{parentName:"p"},"Stage")," can have ",Object(o.b)("inlineCode",{parentName:"p"},"parameters")," that are passed to ",Object(o.b)("inlineCode",{parentName:"p"},"jobs"),".\n",Object(o.b)("inlineCode",{parentName:"p"},"Stage")," can also have one or more ",Object(o.b)("inlineCode",{parentName:"p"},"configurations"),". Each ",Object(o.b)("inlineCode",{parentName:"p"},"job")," is executed in indicated one or more ",Object(o.b)("inlineCode",{parentName:"p"},"environments"),".\n",Object(o.b)("inlineCode",{parentName:"p"},"Environment")," is defined by ",Object(o.b)("inlineCode",{parentName:"p"},"operating system"),", ",Object(o.b)("inlineCode",{parentName:"p"},"executors group")," and ",Object(o.b)("inlineCode",{parentName:"p"},"configuration"),"."),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Stage")," is defined in Python-like syntax. Example ",Object(o.b)("inlineCode",{parentName:"p"},"stage")," workflow schema definition:"),Object(o.b)("pre",null,Object(o.b)("code",Object(i.a)({parentName:"pre"},{className:"language-python"}),'def stage(ctx):\n    return {\n        "parent": "Unit Tests",\n        "triggers": {\n            "parent": True,\n            "cron": "1 * * * *",\n            "interval": "10m",\n            "repository": True,\n            "webhook": True\n        },\n        "parameters": [],\n        "configs": [{\n            "name": "c1",\n            "p1": "1",\n            "p2": "3"\n        }, {\n            "name": "c2",\n            "n3": "33",\n            "t2": "asdf"\n        }],\n        "jobs": [{\n            "name": "make dist",\n            "steps": [{\n                "tool": "git",\n                "checkout": "https://github.com/frankhjung/python-helloworld.git",\n                "branch": "master"\n            }, {\n                "tool": "pytest",\n                "params": "tests/testhelloworld.py",\n                "cwd": "python-helloworld"\n            }],\n            "environments": [{\n                "system": "ubuntu-18.04",\n                "executor_group": "all",\n                "config": "c1"\n            }]\n        }],\n        "notification": {\n            "changes": {\n                "slack": {"channel": "kk-results"},\n                "email": "godfryd@gmail.com"\n            }\n        }\n    }\n')),Object(o.b)("h3",{id:"job-in-stage"},"Job in Stage"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Job")," defines what should be done. There can be many jobs in one stage. They are run in indicated, one or more, environments.\nOne ",Object(o.b)("inlineCode",{parentName:"p"},"job")," have multiple ",Object(o.b)("inlineCode",{parentName:"p"},"steps"),"."),Object(o.b)("h3",{id:"step-in-stage"},"Step in Stage"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Step")," defines an operation. It can be:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"execution of indicated shell command"),Object(o.b)("li",{parentName:"ul"},"checking out sources from indicated repository"),Object(o.b)("li",{parentName:"ul"},"running tests by indicated test tool"),Object(o.b)("li",{parentName:"ul"},"running static checks by indicated linter"),Object(o.b)("li",{parentName:"ul"},"and more")),Object(o.b)("h3",{id:"flow"},"Flow"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Flow")," is an execution instance in a ",Object(o.b)("inlineCode",{parentName:"p"},"branch"),". It contains one or more ",Object(o.b)("inlineCode",{parentName:"p"},"runs")," of ",Object(o.b)("inlineCode",{parentName:"p"},"stages")," ie. execution instances of ",Object(o.b)("inlineCode",{parentName:"p"},"stages"),"."),Object(o.b)("h3",{id:"run"},"Run"),Object(o.b)("p",null,Object(o.b)("inlineCode",{parentName:"p"},"Run")," is an execution instance of given ",Object(o.b)("inlineCode",{parentName:"p"},"stage")," in a given ",Object(o.b)("inlineCode",{parentName:"p"},"flow"),". ",Object(o.b)("inlineCode",{parentName:"p"},"Run")," of first ",Object(o.b)("inlineCode",{parentName:"p"},"stage")," in a ",Object(o.b)("inlineCode",{parentName:"p"},"branch"),"\nis triggered with triggering its ",Object(o.b)("inlineCode",{parentName:"p"},"flow"),". The following ",Object(o.b)("inlineCode",{parentName:"p"},"run")," of subsequent ",Object(o.b)("inlineCode",{parentName:"p"},"stage")," in a ",Object(o.b)("inlineCode",{parentName:"p"},"branch")," are triggered\nby a prior ",Object(o.b)("inlineCode",{parentName:"p"},"run"),". ",Object(o.b)("inlineCode",{parentName:"p"},"Runs")," can also be triggered manually ie. their start require manual confirmation."),Object(o.b)("h3",{id:"job-in-run"},"Job in Run"),Object(o.b)("p",null,"This is an execution instance of a ",Object(o.b)("inlineCode",{parentName:"p"},"job")," defined in workflow schema in a ",Object(o.b)("inlineCode",{parentName:"p"},"stage"),".\nIt has a execution statues. It can have multiple test results or issues."),Object(o.b)("h3",{id:"step-in-run"},"Step in Run"),Object(o.b)("p",null,"This is an execution instance of a ",Object(o.b)("inlineCode",{parentName:"p"},"step")," defined in workflow schema in a ",Object(o.b)("inlineCode",{parentName:"p"},"stage"),"."),Object(o.b)("p",null,Object(o.b)("img",Object(i.a)({parentName:"p"},{src:"https://i.imgur.com/QzUGsUu.png",alt:"Kraken Entities"}))))}p.isMDXComponent=!0}}]);